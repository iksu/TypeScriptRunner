var __reflect=this&&this.__reflect||function(e,t,r){e.__class__=t,r?r.push(t):r=[t],e.__types__=e.__types__?r.concat(e.__types__):r},__extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},dmt;!function(e){var t=function(){function t(e,t){this.handleType=e,this.enterType=e,this.code=t,this.code.handleKeys[e]=this}return Object.defineProperty(t.prototype,"enterType",{set:function(t){this.enterName=e.KT[t]},enumerable:!0,configurable:!0}),t.prototype.V=function(e,t,r){if(this.vAbFunc){var n=this.code.V(e.tks[0],e,t,r),s=this.code.V(e.tks[1],e,t,r);return this.vAbFunc(n,s)}return e.val},t.prototype.ValueA=function(e,t,r){return e},t.prototype.ValueParms=function(e,t,r){return this.V(e,t,r)},t.prototype.SetValue=function(e,t,r,n,s){var i=this.code.V(e,t,n,s);this.code.SetParmsValue(i,r,n,s)},t.prototype.Exp=function(t,r,n){var s=e.Express.Exps(r,n,this.exp,this.handleType,this);return s},t.prototype.AfterExpress=function(e,t){},t.ExpAB=function(r,n,s,i){var a=t.expressABList[s];return a||(a=[new e.Express(s,function(t,r,n,i){return t.type==s?e.ECT.OKSkip:e.ECT.Fail},[e.KT.AnyOne]),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],t.expressABList[s]=a),e.Express.Exps(r,n,a,s,i)},t.expressABList={},t}();e.Handle=t,__reflect(t.prototype,"dmt.Handle")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(e,t,r){for(var n=r,s=t.length;s>n;n++){var i=t[n];if(i.isParser&&this.handles.hasOwnProperty(i.name)){var a=this.handles[i.name],o=a.Exp(e,t,n);if(o)return o}}return-1},r}(e.Handle);e.PairsHandle=t,__reflect(t.prototype,"dmt.PairsHandle");var r=function(e){function t(t){return e.call(this,t,[new n(t),new s(t),new i(t),new a(t)])||this}return __extends(t,e),t}(t);e.Pairs=r,__reflect(r.prototype,"dmt.Pairs");var n=function(t){function r(r){var n=t.call(this,e.KT.Par,r)||this;return n.type="(...)",n.enterType=e.KT.LeftPar,n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,r,n){this.code.Express(t);for(var s=t.tks,i=t.tks.length-1;i>=0;i--){var a=t.tks[i];(a.type==e.KT.End||a.type==e.KT.Enter)&&t.tks.splice(i,1)}for(var o,i=0,u=s.length;u>i;i++){var l=s[i];l.type!=e.KT.SemiColon&&(o=this.code.V(l,t,r,n))}return o},r.prototype.Exp=function(t,r,n){var s=this;return e.Express.ExpressPairs(r,n,new e.Express(e.KT.Par,e.KT.LeftPar,null,e.KT.RightPar),this,function(e){e.isParser=!0,e.handle=s})},r}(e.Handle);e.ParPair=n,__reflect(n.prototype,"dmt.ParPair");var s=function(t){function r(r){var n=t.call(this,e.KT.Brace,r)||this;return n.type="{...}",n.enterType=e.KT.LeftBrace,n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,n,s){if(this.code.Express(t),0==t.tks.length&&(t.type=e.KT.Json),t.type==e.KT.Json)return r.HandleBraceJson(t,this.code,n,s);for(var i=t.tks,a=0,o=i.length;o>a;a++)if(n.signal==e.KT.None){var u=i[a];u["static"]||u.type==e.KT.SemiColon||this.code.V(u,t,n,s)}return t},r.prototype.Exp=function(t,r,n){var s=this;return e.Express.ExpressPairs(r,n,new e.Express(e.KT.Brace,e.KT.LeftBrace,null,e.KT.RightBrace),this,function(e){e.handle=s})},r.HandleBraceJson=function(t,r,n,s){if(t){for(var i=t.tks.length-1;i>=0;i--){var a=t.tks[i];(a.type==e.KT.End||a.type==e.KT.Enter||a.type==e.KT.Comma)&&t.tks.splice(i,1)}var o={};o=r.ComParams(o,s),Object.defineProperty(s,"__json__",{value:1,enumerable:!1,configurable:!1});for(var i=0,u=t.tks.length;u>i;i++){var a=t.tks[i];if(a.type==e.KT.JsonVal){var l=a.tks[0],c=a.tks[1];if(l&&c){var p=l.val;p==e.Token.void0&&(p=l.name.toLowerCase());var f=r.V(c,t,n,o);r.autoBind&&f instanceof Function&&(f.__bind__||"function"==typeof f&&(f.__token__&&f.__token__.type==e.KT.ClassInstance||(f=f.bind(s),Object.defineProperty(f,"__bind__",{value:!0,enumerable:!1,configurable:!1})))),r.SetParmsValue(p,f,n,o)}}}return o}},r}(e.Handle);e.BracePair=s,__reflect(s.prototype,"dmt.BracePair");var i=function(t){function r(r){var n=t.call(this,e.KT.Bracket,r)||this;return n.type="[...]",n.enterType=e.KT.LeftBracket,n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,r,n){this.code.Express(t);for(var s=[],i=t.tks,a=0,o=i.length;o>a;a++){var u=i[a];if(u.type==e.KT.Comma)for(var l=0,c=u.tks.length;c>l;l++)s.push(this.code.V(u.tks[l],t,r,n));else s.push(this.code.V(u,t,r,n))}return s},r.prototype.Exp=function(t,r,n){var s=this;return e.Express.ExpressPairs(r,n,new e.Express(e.KT.Bracket,e.KT.LeftBracket,null,e.KT.RightBracket),this,function(e){e.isParser=!0,e.handle=s})},r}(e.Handle);e.BracketPair=i,__reflect(i.prototype,"dmt.BracketPair");var a=function(t){function r(r){var n=t.call(this,e.KT.ElseIf,r)||this;return n.type="else if",n.enterType=e.KT.Else,n.exp=[new e.Express(e.KT.Else,e.KT.Else),new e.Express(e.KT.If,e.KT.If)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.ElseIfPair=a,__reflect(a.prototype,"dmt.ElseIfPair");var o=function(t){function r(r){var n=t.call(this,e.KT.AngleBracket,r)||this;return n.type="<...>",n.enterType=e.KT.Less,n.exp=[new e.Express(e.KT.Less,function(t,r,n,s){if(t.type==e.KT.Less){var i=r[n-1];if(!i||!i.isValue)return e.ECT.OK}return e.ECT.Fail}),new e.Express(e.KT.Greater,function(t,r,n,s){return t.type==e.KT.Greater?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.AfterExpress=function(t,r){for(var n=r.length-1;n>=0;n--){var s=r[n];s.type==e.KT.AngleBracket&&r.splice(n,1)}},r}(e.Handle);e.AngleBracketPair=o,__reflect(o.prototype,"dmt.AngleBracketPair")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(t,r){this.autoAddVal=!1,this.type=t,this.name=e.KT[t],this.key=r,this.key.length>1&&(this.waitForChar=this.key.substr(this.key.length-1,1),this.preParserChar=this.key.substr(0,this.key.length-1))}return t.prototype.SetWaitForParser=function(e){var t=this;e.forEach(function(e){e.preParserChar==t.key&&(t.waitForParsers||(t.waitForParsers=[]),t.waitForParsers.push(e))})},t.prototype.Reset=function(){},t.prototype.TryAddValue=function(t,r,n,s,i){if(this.waitForParsers)for(var a=0,o=this.waitForParsers.length;o>a;a++){var u=this.waitForParsers[a];if(u.waitForChar==t)return u}var l=new e.Token(this.type,e.Token.void0);return l.isParser=!0,l.line=s,l.column=i,n.push(l),null},t.prototype.WillAcceptStart=function(e){return!1},t}();e.Parser=t,__reflect(t.prototype,"dmt.Parser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.For,r)||this;return n.type="for(...){...}",n.exp=[new e.Express(e.KT.For,function(t,r,n,s){return t.type==e.KT.For?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,e.KT.Par),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1];this.code.Express(s),this.code.Express(i);var a=this.code.SplitToken(s.tks,e.KT.SemiColon);if(a.length>0&&a[0].length>0&&a[0][0].type==e.KT.In){var o=a[0][0],u=this.code.V(o.tks[0],t,r,n),l=this.code.V(o.tks[1],t,r,n);l instanceof e.Token&&(l=l.ps);var c={},p=this.code.ComParams(c,n),f=l.hasOwnProperty("__json__");if("string"==typeof l)for(var h=0,d=l.length;d>h;h++){var y=l.charAt(h);if(c[u]=y,this.code.V(i,t,r,p),r.signal!=e.KT.Continue){if(r.signal==e.KT.Break){r.signal=e.KT.None;break}if(r.signal==e.KT.Return)return null}else r.signal=e.KT.None}else for(var T=Object.keys(l),h=0,d=T.length;d>h;h++){var y=T[h];if((!f||l.hasOwnProperty(y))&&!(y.length>2&&"__"==y.substr(0,2)))if(c[u]=y,this.code.V(i,t,r,p),r.signal!=e.KT.Continue){if(r.signal==e.KT.Break){r.signal=e.KT.None;break}if(r.signal==e.KT.Return)return null}else r.signal=e.KT.None}}else{if(a.length<3)throw new Error("'For' need 3 elements");var _=a.map(function(e){return e[0]});for(_[0]?this.code.V(_[0],t,r,n):!0;_[1]?this.code.V(_[1],t,r,n):!0;_[2]?this.code.V(_[2],t,r,n):!0)if(this.code.V(i,t,r,n),r.signal!=e.KT.Continue){if(r.signal==e.KT.Break){r.signal=e.KT.None;break}if(r.signal==e.KT.Return)return null}else r.signal=e.KT.None}return null},r}(e.Handle);e.For=t,__reflect(t.prototype,"dmt.For")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,r,n){for(var s=n,i=r.length;i>s;s++){var a=r[s];if(a.isParser&&this.handles.hasOwnProperty(a.name)){var o=this.handles[a.name];if(!o.exp)return e.Handle.ExpAB(r,s,a.type,this.handles[a.name]);var u=o.Exp(t,r,s);if(u)return u}}return-1},r}(e.Handle);e.Arithmetic=t,__reflect(t.prototype,"dmt.Arithmetic");var r=function(t){function r(r){return t.call(this,r,[new f(r),new h(r),new d(r),new y(r),new e.Instanceof(r),new e.In(r)])||this}return __extends(r,t),r}(t);e.Handle11=r,__reflect(r.prototype,"dmt.Handle11");var n=function(e){function t(t){return e.call(this,t,[new a(t),new o(t)])||this}return __extends(t,e),t}(t);e.Handle13=n,__reflect(n.prototype,"dmt.Handle13");var s=function(e){function t(t){return e.call(this,t,[new u(t),new l(t),new p(t)])||this}return __extends(t,e),t}(t);e.Handle14=s,__reflect(s.prototype,"dmt.Handle14");var i=function(e){function t(t){return e.call(this,t,[new c(t)])||this}return __extends(t,e),t}(t);e.Handle15=i,__reflect(i.prototype,"dmt.Handle15");var a=function(t){function r(r){var n=t.call(this,e.KT.Plus,r)||this;return n.type="...+...",n.isValue=!0,n.exp=[new e.Express(e.KT.Plus,function(t,r,n,s){return t.type==e.KT.Plus?e.ECT.OKSkip:e.ECT.Fail},[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.OKStay}]),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n.vAbFunc=function(e,t){return e+t},n}return __extends(r,t),r}(e.Handle);e.Plus=a,__reflect(a.prototype,"dmt.Plus");var o=function(t){function r(r){var n=t.call(this,e.KT.Minus,r)||this;return n.type="...-...",n.isValue=!0,n.exp=[new e.Express(e.KT.Minus,function(t,r,n,s){return t.type==e.KT.Minus?e.ECT.OKSkip:e.ECT.Fail},[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.OKStay}]),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1],a=this.code.V(s,t,r,n),o=this.code.V(i,t,r,n);return i.type==e.KT.UnaryMinus?a+o:a-o},r}(e.Handle);e.Minus=o,__reflect(o.prototype,"dmt.Minus");var u=function(t){function r(r){var n=t.call(this,e.KT.Multiply,r)||this;return n.type="...*...",n.isValue=!0,n.vAbFunc=function(e,t){return e*t},n}return __extends(r,t),r}(e.Handle);e.Multiply=u,__reflect(u.prototype,"dmt.Multiply");var l=function(t){function r(r){var n=t.call(this,e.KT.Divide,r)||this;return n.type=".../...",n.isValue=!0,n.vAbFunc=function(e,t){return e/t},n}return __extends(r,t),r}(e.Handle);e.Divide=l,__reflect(l.prototype,"dmt.Divide");var c=function(t){function r(r){var n=t.call(this,e.KT.Exponentiation,r)||this;return n.type="...**...",n.isValue=!0,n.vAbFunc=function(e,t){return Math.pow(e,t)},n}return __extends(r,t),r}(e.Handle);e.Exponentiation=c,__reflect(c.prototype,"dmt.Exponentiation");var p=function(t){function r(r){var n=t.call(this,e.KT.Modulo,r)||this;return n.type="...%...",n.isValue=!0,n.vAbFunc=function(e,t){return e%t},n}return __extends(r,t),r}(e.Handle);e.Modulo=p,__reflect(p.prototype,"dmt.Modulo");var f=function(t){function r(r){var n=t.call(this,e.KT.Less,r)||this;return n.type="...<...",n.isValue=!0,n.vAbFunc=function(e,t){return t>e},n}return __extends(r,t),r}(e.Handle);e.Less=f,__reflect(f.prototype,"dmt.Less");var h=function(t){function r(r){var n=t.call(this,e.KT.Greater,r)||this;return n.type="...>...",n.isValue=!0,n.vAbFunc=function(e,t){return e>t},n}return __extends(r,t),r}(e.Handle);e.Greater=h,__reflect(h.prototype,"dmt.Greater");var d=function(t){function r(r){var n=t.call(this,e.KT.LessOrEqual,r)||this;return n.type="...<=...",n.isValue=!0,n.vAbFunc=function(e,t){return t>=e},n}return __extends(r,t),r}(e.Handle);e.LessOrEqual=d,__reflect(d.prototype,"dmt.LessOrEqual");var y=function(t){function r(r){var n=t.call(this,e.KT.GreaterOrEqual,r)||this;return n.type="...>=...",n.isValue=!0,n.vAbFunc=function(e,t){return e>=t},n}return __extends(r,t),r}(e.Handle);e.GreaterOrEqual=y,__reflect(y.prototype,"dmt.GreaterOrEqual")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,r,n){for(var s=n,i=r.length;i>s;s++){var a=r[s];if(a.isParser&&this.handles.hasOwnProperty(a.name)){var o=this.handles[a.name];if(!o.exp)return e.Handle.ExpAB(r,s,a.type,this.handles[a.name]);var u=o.Exp(t,r,s);if(u)return u}}return-1},r}(e.Handle);e.AssignBase=t,__reflect(t.prototype,"dmt.AssignBase");var r=function(e){function t(t){return e.call(this,t,[new h(t),new d(t)])||this}return __extends(t,e),t}(t);e.Handle17=r,__reflect(r.prototype,"dmt.Handle17");var n=function(e){function t(t){return e.call(this,t,[new s(t),new i(t),new a(t),new o(t),new u(t),new l(t),new c(t),new p(t),new f(t)])||this}return __extends(t,e),t}(t);e.Handle3=n,__reflect(n.prototype,"dmt.Handle3");var s=function(t){function r(r){var n=t.call(this,e.KT.Assign,r)||this;return n.type="...=...",n.isValue=!0,n}return __extends(r,t),r.prototype.ValueA=function(e,t,r){var n=e.tks[0];return n.val},r.prototype.V=function(t,n,s){var i=t.tks[0],a=t.tks[1],o=this.code.V(a,t,n,s);return this.code.autoBind&&o instanceof Function&&(o.__bind__||"function"==typeof o&&(o.__token__&&o.__token__.type==e.KT.ClassInstance||i.tks&&i.tks[0]&&i.tks[0].tks&&i.tks[0].tks[1]&&i.tks[0].tks[1].tks&&i.tks[0].tks[1].tks[0]&&"prototype"==i.tks[0].tks[1].tks[0].val||(o=o.bind(s),Object.defineProperty(o,"__bind__",{value:!0,enumerable:!1,configurable:!1})))),r.AssignValue(i,t,o,n,s,this.code),o},r.AssignValue=function(e,t,n,s,i,a){if(e.handle)e.handle.SetValue(e,t,n,s,i);else{var o=e.val,u=r.GetWhereIsKey(o,i,i);a.SetParmsValue(o,n,s,u)}},r.GetWhereIsKey=function(e,t,n){if(t.hasOwnProperty(e))return t;var s=t.__proto__;return s?r.GetWhereIsKey(e,s,n):n},r}(e.Handle);e.Assign=s,__reflect(s.prototype,"dmt.Assign");var i=function(t){function r(r){var n=t.call(this,e.KT.AssignPlus,r)||this;return n.type="...+=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a+=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignPlus=i,__reflect(i.prototype,"dmt.AssignPlus");var a=function(t){function r(r){var n=t.call(this,e.KT.AssignMinus,r)||this;return n.type="...-=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a-=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignMinus=a,__reflect(a.prototype,"dmt.AssignMinus");var o=function(t){function r(r){var n=t.call(this,e.KT.AssignMultiply,r)||this;return n.type="...*=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a*=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignMultiply=o,__reflect(o.prototype,"dmt.AssignMultiply");var u=function(t){function r(r){var n=t.call(this,e.KT.AssignDivide,r)||this;return n.type=".../=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a/=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignDivide=u,__reflect(u.prototype,"dmt.AssignDivide");var l=function(t){function r(r){var n=t.call(this,e.KT.AssignModulo,r)||this;return n.type="...%=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a%=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignModulo=l,__reflect(l.prototype,"dmt.AssignModulo");var c=function(t){function r(r){var n=t.call(this,e.KT.AssignShi,r)||this;return n.type="...<<=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a<<=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignShi=c,__reflect(c.prototype,"dmt.AssignShi");var p=function(t){function r(r){var n=t.call(this,e.KT.AssignShr,r)||this;return n.type="...>>=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a>>=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignShr=p,__reflect(p.prototype,"dmt.AssignShr");var f=function(t){function r(r){var n=t.call(this,e.KT.AssignUnsignedShr,r)||this;return n.type="...>>>=...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=e.tks[1],a=this.code.V(n,e,t,r),o=this.code.V(i,e,t,r);return a>>>=o,s.AssignValue(n,e,a,t,r,this.code),a},r}(e.Handle);e.AssignUnsignedShr=f,__reflect(f.prototype,"dmt.AssignUnsignedShr");var h=function(t){function r(r){var n=t.call(this,e.KT.Increment,r)||this;return n.type="...++",n.isValue=!0,n.exp=[new e.Express(e.KT.Increment,function(t,r,n,s){return t.type==e.KT.Increment?e.ECT.OKSkip:e.ECT.Fail},[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.Fail}])],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=this.code.V(n,e,t,r),a=i++;return s.AssignValue(n,e,i,t,r,this.code),a},r}(e.Handle);e.Increment=h,__reflect(h.prototype,"dmt.Increment");var d=function(t){function r(r){var n=t.call(this,e.KT.Decrement,r)||this;return n.type="...--",n.isValue=!0,n.exp=[new e.Express(e.KT.Decrement,function(t,r,n,s){return t.type==e.KT.Decrement?e.ECT.OKSkip:e.ECT.Fail},[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.Fail}])],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],i=this.code.V(n,e,t,r),a=i--;return s.AssignValue(n,e,i,t,r,this.code),a},r}(e.Handle);e.Decrement=d,__reflect(d.prototype,"dmt.Decrement")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Combine,r)||this;return n.type="...&...",n.isValue=!0,n.vAbFunc=function(e,t){return e&t},n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Handle.ExpAB(r,n,e.KT.Combine,this)},r}(e.Handle);e.Combine=t,__reflect(t.prototype,"dmt.Combine");var r=function(t){function r(r){var n=t.call(this,e.KT.XOR,r)||this;return n.type="...^...",n.isValue=!0,n.vAbFunc=function(e,t){return e^t},n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Handle.ExpAB(r,n,e.KT.XOR,this)},r}(e.Handle);e.XOR=r,__reflect(r.prototype,"dmt.XOR");var n=function(t){function r(r){var n=t.call(this,e.KT.InclusiveOr,r)||this;return n.type="...|...",n.isValue=!0,n.vAbFunc=function(e,t){return e|t},n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Handle.ExpAB(r,n,e.KT.InclusiveOr,this)},r}(e.Handle);e.InclusiveOr=n,__reflect(n.prototype,"dmt.InclusiveOr");var s=function(t){function r(r){var n=t.call(this,e.KT.And,r)||this;return n.type="...&&...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=e.tks[1],i=this.code.V(n,e,t,r);if(!i)return!1;var a=this.code.V(s,e,t,r);return a?!0:!1},r.prototype.Exp=function(t,r,n){return e.Handle.ExpAB(r,n,e.KT.And,this)},r}(e.Handle);e.And=s,__reflect(s.prototype,"dmt.And");var i=function(t){function r(r){var n=t.call(this,e.KT.Or,r)||this;return n.type="...||...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=e.tks[1],i=this.code.V(n,e,t,r);if(i)return!0;var a=this.code.V(s,e,t,r);return a?!0:!1},r.prototype.Exp=function(t,r,n){return e.Handle.ExpAB(r,n,e.KT.Or,this)},r}(e.Handle);e.Or=i,__reflect(i.prototype,"dmt.Or")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Call,r)||this;return n.type="...(...)",n.enterType=e.KT.Par,n.isValue=!0,n.exp=[new e.Express(e.KT.Par,function(t,r,n,s){return t.type==e.KT.Par?e.ECT.OK:e.ECT.Fail},[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.Fail}])],n}return __extends(r,t),r.prototype.V=function(t,n,s){var i=t.tks[0];this.code.Express(i);var a=t.tks[1],o=null,u=null;if(i.type==e.KT.Super){var l=this.code.GetThis(s),c=(l.__token__,l.__curToken__),p=l.__extends__;p.prototype.__token__?Object.defineProperty(l,"__extends__",{value:p.prototype.__token__["extends"],enumerable:!1,configurable:!0}):Object.defineProperty(l,"__extends__",{value:null,enumerable:!1,configurable:!0}),Object.defineProperty(l,"__curToken__",{value:p.__token__,enumerable:!1,configurable:!0}),o=p,u=l,o.__token__&&o.__token__.AddDebugLine(t),r.Call(o,u,a,n,s,this.code),this.code.CallPreConstructor(c,n,l),o=null}else i.type==e.KT.Bracket?(o=this.code.V(i.tks[0],t,n,s),u=this.code.VA(i.tks[0],n,s)):i.type==e.KT.PeriodKeyVal?(o=this.code.V(i,t,n,s),u=this.code.VA(i,n,s)):(o=this.code.V(i,t,n,s),u=s);return o?(o.__token__&&o.__token__.AddDebugLine(t),r.Call(o,u,a,n,s,this.code)):void 0},r.Call=function(t,n,s,i,a,o){r.HandleFunctionParms(s,o);var u=s.tks;if(t){for(var l=[],c=0,p=u.length;p>c;c++){var f=o.ValueParms(u[c],i,a);l.push(f)}if(n instanceof e.Token){var h=o.ComParams(n.ps,a);return n=n.ps,t.apply(h,l)}for(var c=0,p=l.length;p>c;c++){var d=l[c];d instanceof Function&&(d.__bind__||"function"==typeof d&&(d.__token__&&d.__token__.type==e.KT.ClassInstance||(d=d.bind(a),Object.defineProperty(d,"__bind__",{value:!0,enumerable:!1,configurable:!1}),l[c]=d)))}return t.apply(n,l)}throw new Error("'Function' does not exist")},r.CallFunction=function(t,n,s,i,a){var o=t,u={},l=t.tks[0];l.type==e.KT.Call&&(l=l.tks[l.tks.length-1]),r.HandleFunctionParms(l,a);var c=l.tks;c||(c=[l]);for(var p=0,f=null,h=c.length,d=n.length;d>p;p++){var y=n[p];if(h>p){var T=c[p],_=a.VA(T,s,i);T.type==e.KT.Params?(f=[y],u[_.val]=f):u[_]=y}else f&&f.push(y)}var v=a.ComParams(u,i);if(h>0)for(var d=h;d>p;p++){var K=c[p];K.type==e.KT.ReservedWord?a.SetParmsValue(K.val,null,s,v):a.V(K,t,s,v)}t=t.tks[t.tks.length-1],a.Express(t),s||(s=t),s.returnVal=e.Token.void0,s.signal=e.KT.None;for(var m=0,d=t.tks.length;d>m;m++){var x=t.tks[m];a.V(x,o,s,v);var E=s.signal;if(E==e.KT.Return)return s.signal=e.KT.None,s.returnVal}},r.HandleFunctionParms=function(t,r){if(t&&!t.expressed&&(r.Express(t),t.tks)){for(var n=t.tks.length-1;n>=0;n--){var s=t.tks[n];(s.type==e.KT.End||s.type==e.KT.Enter)&&t.tks.splice(n,1)}t.tks.length>0&&t.tks[0].type==e.KT.Comma&&(t.tks=t.tks[0].tks,t.tks.forEach(function(e){e.parent=t}))}},r}(e.Handle);e.Call=t,__reflect(t.prototype,"dmt.Call")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Class,r)||this;return n.type="class ...(...){}",n.isValue=!0,n.exp=[new e.Express(e.KT.Class,e.KT.Class),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=this.GetClass(e,t,r);return n},r.prototype.GetClass=function(t,r,n){if(t instanceof e.Token){if(!t._class){var s=t.tks[0];this.code.Express(s);var i=s.tks[0].val;t.ps={};var a=this.code.ComParams(t.ps,n);delete a.__this__,this.code.SetParmsValue(i,a,r,n);var o=t.tks[t.tks.length-1];this.code.Express(o);for(var u=0,l=o.tks.length;l>u;u++){var c=o.tks[u];c["static"]&&c.type!=e.KT.SemiColon&&this.code.V(c,t,r,a)}var p=this.InstanceClass(t,r,a),f=this.code;t._class=function(){var e=function(){var e=this;p["extends"]||f.CallPreConstructor(p,r,e);var t=p._constructor;return t&&t.apply(e,arguments),e};for(var n in t.ps)if(t.ps.hasOwnProperty(n)){var s=Object.getOwnPropertyDescriptor(t.ps,n);Object.defineProperty(e,n,s)}if(p["extends"]){var i=function(){this.constructor=p["extends"].constructor};i.prototype=p["extends"].prototype;var a=new i;e.prototype=a}for(var n in p.ps)if(p.ps.hasOwnProperty(n)){var s=Object.getOwnPropertyDescriptor(p.ps,n);Object.defineProperty(e.prototype,n,s)}return Object.defineProperty(e.prototype,"__token__",{value:p,enumerable:!1,configurable:!1}),Object.defineProperty(e.prototype,"__curToken__",{value:p,enumerable:!1,configurable:!1}),p["extends"]&&Object.defineProperty(e.prototype,"__extends__",{value:p["extends"],enumerable:!1,configurable:!0}),Object.defineProperty(e,"__token__",{value:p,enumerable:!1,configurable:!1}),e}(),this.code.SetParmsValue(i,t._class,r,n)}return t._class}return t},r.prototype.InstanceClass=function(t,r,n){for(var s=null,i=null,a=0,o=t.tks[0].tks.length;o>a;a++){var u=t.tks[0].tks[a];if(u.type==e.KT.Extends){i=u;break}}if(i){var l=this.code.V(i,t,r,n);if(!l)throw new Error("'Extends' does not exist");s=l instanceof e.Token?this.InstanceClass(l,r,n):l}for(var c=this.code.Initialize(t.tks[t.tks.length-1].tks,r,t.name),a=0,o=c.tks.length;o>a;a++){var p=c.tks[a];p.parent=c}var f=this.code.GetParmsValue("constructor",c.ps,!1);return f&&(c._constructor=f),s&&(c["extends"]=s),c},r}(e.Handle);e.Class=t,__reflect(t.prototype,"dmt.Class");var r=function(t){function r(r){var n=t.call(this,e.KT.Interface,r)||this;return n.type="interface ...(...){}",n.isValue=!0,n.exp=[new e.Express(e.KT.Interface,e.KT.Interface),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return null},r}(e.Handle);e.Interface=r,__reflect(r.prototype,"dmt.Interface")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Colon,r)||this;return n.type=":...",n.skipIndex=0,n}return __extends(r,t),r.prototype.V=function(t,r,n){return this.code.Express(t),e.BracePair.HandleBraceJson(t,this.code,r,n)},r.prototype.Exp=function(t,r,n){for(var s=null,i=-1,a=0,o=n,u=r.length;u>o;o++){var l=r[o];if(s)if(a>0)l.type==e.KT.Less?a++:l.type==e.KT.Greater&&a--,s.push(l);else{if(l.type==e.KT.Assign||l.type==e.KT.Comma||l.type==e.KT.SemiColon||l.type==e.KT.End||l.type==e.KT.Enter&&s.length>0||l.type==e.KT.Brace&&s.length>0){var c=o-1;this.code.InsertToken(r,e.KT.ColonVal,s,i,c,this);return i}l.type==e.KT.Less&&(a=1),s.push(l)}else{if(l.type!=e.KT.Colon)return(l.type==e.KT.Case||l.type==e.KT.Default||l.type==e.KT.QuestionMark)&&this.skipIndex++,n+1;if(this.skipIndex>0)return this.skipIndex--,n+1;if(t.type==e.KT.Brace&&(1==o||2==o&&r[0].type==e.KT.Enter))return t.type=e.KT.Json,t.handle=this,r.length;s=[],i=o}}return-1},r.prototype.AfterExpress=function(t,r){if(t.type!=e.KT.Json)for(var n=r.length-1;n>=0;n--){var s=r[n];if(s.type==e.KT.ColonVal||s.type==e.KT.Enter){var i=r[n-1];i&&(i.colon=s),r.splice(n,1)}}this.skipIndex=0},r}(e.Handle);e.Colon=t,__reflect(t.prototype,"dmt.Colon")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Comma,r)||this;return n.type="...,...",n.isValue=!0,n.exp=[new e.Express(e.KT.Comma,function(t,r,n,s){return t.type==e.KT.Comma?e.ECT.OKSkip:e.ECT.Fail},[e.KT.AnyOne]),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(t,r,n){this.code.Express(t);for(var s=t.tks,i=t.tks.length-1;i>=0;i--){var a=t.tks[i];(a.type==e.KT.End||a.type==e.KT.Enter)&&t.tks.splice(i,1)}for(var o,i=0,u=s.length;u>i;i++){var l=s[i];l.type!=e.KT.SemiColon&&(o=this.code.V(l,t,r,n))}return o},r.prototype.Exp=function(t,r,n){if(t.type==e.KT.Json)return-1;var s=e.Express.Exps(r,n,this.exp,this.handleType,this,function(t){if(t.tks[0].type==e.KT.Comma){var r=t.tks[0],n=t.tks[1];t.tks=r.tks,t.tks.push(n),t.tks.forEach(function(e){e.parent=t})}});return s},r}(e.Handle);e.Comma=t,__reflect(t.prototype,"dmt.Comma")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Declare,r)||this;return n.type="declare ... {...}",n.exp=[new e.Express(e.KT.Declare,function(t,r,n,s){return t.type==e.KT.Declare?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return null},r}(e.Handle);e.Declare=t,__reflect(t.prototype,"dmt.Declare")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,r,n){for(var s=r.length-1;s>=0;s--){var i=r[s];if(i.isParser&&this.handles.hasOwnProperty(i.name)){var a=this.handles[i.name];if(a.exp){var o=a.Exp(t,r,s);if(o)return o}else{var u=r[s+1];i.type==e.KT.Static?u["static"]=!0:i.type==e.KT.Get?u.get=!0:i.type==e.KT.Set?u.set=!0:u.decorate=i.type,r.splice(s,1)}}}return-1},r}(e.Handle);e.DecorateHandle=t,__reflect(t.prototype,"dmt.DecorateHandle");var r=function(t){function r(r){return t.call(this,r,[new n(r),new s(r),new i(r),new a(r),new o(r),new u(r),new e.Return(r),new e.Continue(r),new e.Break(r)])||this}return __extends(r,t),r}(t);e.Decorate=r,__reflect(r.prototype,"dmt.Decorate");var n=function(t){function r(r){var n=t.call(this,e.KT.Public,r)||this;return n.type="public ...",n}return __extends(r,t),r}(e.Handle);e.Public=n,__reflect(n.prototype,"dmt.Public");var s=function(t){function r(r){var n=t.call(this,e.KT.Protected,r)||this;return n.type="Protected ...",n}return __extends(r,t),r}(e.Handle);e.Protected=s,__reflect(s.prototype,"dmt.Protected");var i=function(t){function r(r){var n=t.call(this,e.KT.Private,r)||this;return n.type="Private ...",n}return __extends(r,t),r}(e.Handle);e.Private=i,__reflect(i.prototype,"dmt.Private");var a=function(t){function r(r){var n=t.call(this,e.KT.Static,r)||this;return n.type="static ...",n}return __extends(r,t),r}(e.Handle);e.Static=a,__reflect(a.prototype,"dmt.Static");var o=function(t){function r(r){var n=t.call(this,e.KT.Get,r)||this;return n.type="get ...",n}return __extends(r,t),r}(e.Handle);e.Get=o,__reflect(o.prototype,"dmt.Get");var u=function(t){function r(r){var n=t.call(this,e.KT.Set,r)||this;return n.type="set ...",n}return __extends(r,t),r}(e.Handle);e.Set=u,__reflect(u.prototype,"dmt.Set")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,r,n){for(var s=n,i=r.length;i>s;s++){var a=r[s];if(a.isParser&&this.handles.hasOwnProperty(a.name))return e.Handle.ExpAB(r,s,a.type,this.handles[a.name])}return-1},r}(e.Handle);e.EqualOpration=t,__reflect(t.prototype,"dmt.EqualOpration");var r=function(e){function t(t){return e.call(this,t,[new n(t),new s(t),new i(t),new a(t)])||this}return __extends(t,e),t}(t);e.Handle10=r,__reflect(r.prototype,"dmt.Handle10");var n=function(t){function r(r){var n=t.call(this,e.KT.Equal,r)||this;return n.type="...==...",n.isValue=!0,n.vAbFunc=function(e,t){return e==t},n}return __extends(r,t),r}(e.Handle);e.Equal=n,__reflect(n.prototype,"dmt.Equal");var s=function(t){function r(r){var n=t.call(this,e.KT.NotEqual,r)||this;return n.type="...!=...",n.isValue=!0,n.vAbFunc=function(e,t){return e!=t},n}return __extends(r,t),r}(e.Handle);e.NotEqual=s,__reflect(s.prototype,"dmt.NotEqual");var i=function(t){function r(r){var n=t.call(this,e.KT.AllEqual,r)||this;return n.type="...===...",n.isValue=!0,n.vAbFunc=function(e,t){return e===t},n}return __extends(r,t),r}(e.Handle);e.AllEqual=i,__reflect(i.prototype,"dmt.AllEqual");var a=function(t){function r(r){var n=t.call(this,e.KT.AllNotEqual,r)||this;return n.type="...!==...",n.isValue=!0,n.vAbFunc=function(e,t){return e!==t},n}return __extends(r,t),r}(e.Handle);e.AllNotEqual=a,__reflect(a.prototype,"dmt.AllNotEqual")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Function,r)||this;return n.type="...(...){}",n.isValue=!0,n.exp=[new e.Express(e.KT.Call,e.KT.Call),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=this.code,a=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.Call.CallFunction(t,n,r,this,i)
};if(Object.defineProperty(a,"__token__",{value:t,enumerable:!1,configurable:!1}),s.tks.length>0){var o=s.tks[0].val;o&&(t.get?Object.defineProperty(n,o,{get:a,enumerable:!0,configurable:!0}):t.set?Object.defineProperty(n,o,{set:a,enumerable:!0,configurable:!0}):this.code.SetParmsValue(o,a,r,n))}return a},r}(e.Handle);e._Function=t,__reflect(t.prototype,"dmt._Function");var r=function(t){function r(r){var n=t.call(this,e.KT.FunctionSymbol,r)||this;return n.type="()=>{}",n.exp=[new e.Express(e.KT.FunctionSymbol,e.KT.FunctionSymbol,[e.KT.AnyOne]),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=this.code,i=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.Call.CallFunction(t,n,r,this,s)};return Object.defineProperty(i,"__token__",{value:t,enumerable:!1,configurable:!1}),i},r}(e.Handle);e.FunctionSymbol=r,__reflect(r.prototype,"dmt.FunctionSymbol");var n=function(t){function r(r){var n=t.call(this,e.KT.FunctionAnonymous,r)||this;return n.type="function(){}",n.enterType=e.KT.FunctionAnonymous,n.exp=[new e.Express(e.KT.FunctionAnonymous,function(t,r,n,s){return t.type==e.KT.Function?e.ECT.OK:e.ECT.Fail}),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.tks[0]=e.tks[0].tks[0]})},r.prototype.V=function(t,r,n){var s=this.code,i=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.Call.CallFunction(t,n,r,this,s)};return Object.defineProperty(i,"__token__",{value:t,enumerable:!1,configurable:!1}),i},r}(e.Handle);e.FunctionAnonymous=n,__reflect(n.prototype,"dmt.FunctionAnonymous")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.JsonVal,r)||this;return n.type="...:...",n.enterType=e.KT.Colon,n.exp=[new e.Express(e.KT.Colon,function(t,r,n,s){return t.type==e.KT.Colon?e.ECT.OKSkip:e.ECT.Fail},[e.KT.AnyOne]),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Enter?e.ECT.OKSkipStay:e.ECT.OK})],n}return __extends(r,t),r.prototype.Exp=function(t,r,n){if(t.type!=e.KT.Json)return-1;var s=e.Express.Exps(r,n,this.exp,this.handleType,this);return s},r}(e.Handle);e.Json=t,__reflect(t.prototype,"dmt.Json")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,n,s){for(var i=function(s,i){var o=n[s];if(o.isParser&&a.handles.hasOwnProperty(o.name)){var u=a.handles[o.name];if(!u.exp){var l=r.expressList[o.type];l||(l=[new e.Express(o.type,function(t,r,n,s){return t.type==o.type?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],r.expressList[o.type]=l);var c=e.Express.Exps(n,s,l,o.type,u);return{value:c}}var p=u.Exp(t,n,s);if(p)return{value:p}}},a=this,o=s,u=n.length;u>o;o++){var l=i(o,u);if("object"==typeof l)return l.value}return-1},r.expressList={},r}(e.Handle);e.Logical=t,__reflect(t.prototype,"dmt.Logical");var r=function(e){function t(t){return e.call(this,t,[new n(t),new s(t),new i(t),new a(t),new o(t),new u(t),new l(t),new c(t),new p(t)])||this}return __extends(t,e),t}(t);e.Handle16=r,__reflect(r.prototype,"dmt.Handle16");var n=function(t){function r(r){var n=t.call(this,e.KT.Not,r)||this;return n.type="!...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0];return!this.code.V(n,e,t,r)},r}(e.Handle);e.Not=n,__reflect(n.prototype,"dmt.Not");var s=function(t){function r(r){var n=t.call(this,e.KT.BitwiseNot,r)||this;return n.type="~...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0];return~this.code.V(n,e,t,r)},r}(e.Handle);e.BitwiseNot=s,__reflect(s.prototype,"dmt.BitwiseNot");var i=function(t){function r(r){var n=t.call(this,e.KT.UnaryPlus,r)||this;return n.type="+...",n.enterType=e.KT.Plus,n.isValue=!0,n.exp=[new e.Express(e.KT.Plus,function(t,r,n,s){var i=r[n-1];return t.type!=e.KT.Plus||i&&i.isValue?e.ECT.Fail:e.ECT.OKSkip}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=this.code.V(n,e,t,r);return s=+s},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.UnaryPlus=i,__reflect(i.prototype,"dmt.UnaryPlus");var a=function(t){function r(r){var n=t.call(this,e.KT.UnaryMinus,r)||this;return n.type="-...",n.enterType=e.KT.Minus,n.isValue=!0,n.exp=[new e.Express(e.KT.Minus,function(t,r,n,s){var i=r[n-1];return t.type!=e.KT.Minus||i&&i.isValue?e.ECT.Fail:e.ECT.OKSkip}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=this.code.V(n,e,t,r);return s=-s},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.UnaryMinus=a,__reflect(a.prototype,"dmt.UnaryMinus");var o=function(t){function r(r){var n=t.call(this,e.KT.UnaryIncrement,r)||this;return n.type="++...",n.enterType=e.KT.Increment,n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=this.code.V(s,t,r,n),a=++i;return e.Assign.AssignValue(s,t,i,r,n,this.code),a},r}(e.Handle);e.UnaryIncrement=o,__reflect(o.prototype,"dmt.UnaryIncrement");var u=function(t){function r(r){var n=t.call(this,e.KT.UnaryDecrement,r)||this;return n.type="--...",n.enterType=e.KT.Decrement,n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=this.code.V(s,t,r,n),a=--i;return e.Assign.AssignValue(s,t,i,r,n,this.code),a},r}(e.Handle);e.UnaryDecrement=u,__reflect(u.prototype,"dmt.UnaryDecrement");var l=function(t){function r(r){var n=t.call(this,e.KT.Typeof,r)||this;return n.type="typeof ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=this.code.V(n,e,t,r);return typeof s},r}(e.Handle);e.TypeOf=l,__reflect(l.prototype,"dmt.TypeOf");var c=function(t){function r(r){var n=t.call(this,e.KT.Void,r)||this;return n.type="void ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=this.code.V(n,e,t,r);return void s},r}(e.Handle);e.Void=c,__reflect(c.prototype,"dmt.Void");var p=function(t){function r(r){var n=t.call(this,e.KT.Delete,r)||this;return n.type="delete ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0].tks[0],i=t.tks[0].tks[1],a=this.code.V(s,t,r,n);if(i.type==e.KT.PeriodVal){var o=this.code.V(i,t,r,n);return delete a[o]}if(i.type==e.KT.Bracket){var o=this.code.V(i.tks[0],t,r,n);return delete a[o]}var o=i.val;return delete a[o]},r}(e.Handle);e.Delete=p,__reflect(p.prototype,"dmt.Delete")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(t,r,n,s){void 0===n&&(n=null),void 0===s&&(s=e.KT.None),this.type=t,this.identifyType=r,this.pairsType=s,this.preTokenTypes=n}return t.prototype.CheckIdentifyType=function(t,r,n){if(this.identifyType instanceof Function)return this.identifyType(t,r,n,this);var s=t.type==this.identifyType||this.type==e.KT.AnyOne;return s?e.ECT.OK:e.ECT.Fail},t.prototype.CheckPairsType=function(t){if(this.pairsType instanceof Function)return this.pairsType(t,this);var r=t.type==this.pairsType||this.pairsType==e.KT.AnyOne;return r?e.ECT.OK:e.ECT.Fail},t.prototype.CheckPreType=function(t,r){if(!t)return e.ECT.Fail;var n=this.preTokenTypes[r];if(n instanceof Function)return n(t,this);var s=t.type==n||n==e.KT.AnyOne;return s?e.ECT.OK:e.ECT.Fail},t.Exps=function(t,r,n,s,i,a){void 0===a&&(a=null);for(var o,u=0,l=-1,c=-1,p=r,f=t.length;f>p;p++){var h=t[p],d=n[u];if(!d)return c+1;if(o){var y=d.CheckIdentifyType(h,t,p);if(y!=e.ECT.OK&&y!=e.ECT.OKStay&&y!=e.ECT.OKSkip&&y!=e.ECT.OKSkipStay)return d.identifyType instanceof Function&&s!=e.KT.QuestionMark&&s!=e.KT.AngleBracket&&console.warn("something maybe wrong: ",e.KT[s],i),r+1;if(y!=e.ECT.OKSkip&&y!=e.ECT.OKSkipStay&&o.push(h),y!=e.ECT.OKStay&&y!=e.ECT.OKSkipStay&&u++,u>=n.length){l=y==e.ECT.OKSkip||y==e.ECT.OKSkipStay?p-1:p;break}}else{var y=d.CheckIdentifyType(h,t,p);if(y!=e.ECT.OK&&y!=e.ECT.OKStay&&y!=e.ECT.OKSkip&&y!=e.ECT.OKSkipStay)return r+1;if(o=[],c=p,d.preTokenTypes&&d.preTokenTypes.length>0){for(var T=0,_=d.preTokenTypes.length;_>T;T++){var v=t[r-(_-T)];if(d.CheckPreType(v,T)!=e.ECT.OK)return r+1;o.push(v)}c-=d.preTokenTypes.length}if(y!=e.ECT.OKSkip&&y!=e.ECT.OKSkipStay&&o.push(h),y!=e.ECT.OKStay&&y!=e.ECT.OKSkipStay&&u++,u>=n.length){l=p;break}}}if(c>=0&&l>=c){var K=i.code.InsertToken(t,s,o,c,l,i);return a&&a(K),c+1}return-1},t.ExpressPairs=function(t,r,n,s,i){void 0===i&&(i=null);for(var a,o=null,u=0,l=0,c=r,p=t.length;p>c;c++){var f=t[c];if(a)if(n.CheckIdentifyType(f,t,c)==e.ECT.OK)l++,o.push(f);else if(n.CheckPairsType(f)==e.ECT.OK){if(l--,0>=l){var h=c,d=s.code.InsertToken(t,n.type,o,u,h,s);return i&&i(d),r+1}o.push(f)}else o.push(f);else n.CheckIdentifyType(f,t,c)==e.ECT.OK&&(a=!0,o=[],u=c,l=1)}return-1},t}();e.Express=t,__reflect(t.prototype,"dmt.Express")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(e,t,r){for(var n=r,s=t.length;s>n;n++){var i=t[n];if(i.isParser&&this.handles.hasOwnProperty(i.name)){var a=this.handles[i.name],o=a.Exp(e,t,n);if(o)return o}}return-1},r}(e.Handle);e.PairsExtraHandle=t,__reflect(t.prototype,"dmt.PairsExtraHandle");var r=function(e){function t(t){return e.call(this,t,[new n(t),new s(t),new i(t),new a(t),new o(t)])||this}return __extends(t,e),t}(e.PairsHandle);e.PairsExtra=r,__reflect(r.prototype,"dmt.PairsExtra");var n=function(t){function r(r){var n=t.call(this,e.KT.AssignUnsignedShr,r)||this;return n.type=">>>=",n.enterType=e.KT.UnsignedShr,n.exp=[new e.Express(e.KT.UnsignedShr,e.KT.UnsignedShr),new e.Express(e.KT.Assign,e.KT.Assign)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.AssignUnsignedShrPair=n,__reflect(n.prototype,"dmt.AssignUnsignedShrPair");var s=function(t){function r(r){var n=t.call(this,e.KT.AssignShr,r)||this;return n.type=">>=",n.enterType=e.KT.Shr,n.exp=[new e.Express(e.KT.Shr,e.KT.Shr),new e.Express(e.KT.Assign,e.KT.Assign)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.AssignShrPair=s,__reflect(s.prototype,"dmt.AssignShrPair");var i=function(t){function r(r){var n=t.call(this,e.KT.GreaterOrEqual,r)||this;return n.type=">=",n.enterType=e.KT.Greater,n.exp=[new e.Express(e.KT.Greater,e.KT.Greater),new e.Express(e.KT.Assign,e.KT.Assign)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.GreaterOrEqualPair=i,__reflect(i.prototype,"dmt.GreaterOrEqualPair");var a=function(t){function r(r){var n=t.call(this,e.KT.AssignShi,r)||this;return n.type="<<=",n.enterType=e.KT.Shi,n.exp=[new e.Express(e.KT.Shi,e.KT.Shi),new e.Express(e.KT.Assign,e.KT.Assign)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.AssignShiPair=a,__reflect(a.prototype,"dmt.AssignShiPair");var o=function(t){function r(r){var n=t.call(this,e.KT.LessOrEqual,r)||this;return n.type="<=",n.enterType=e.KT.Less,n.exp=[new e.Express(e.KT.Less,e.KT.Less),new e.Express(e.KT.Assign,e.KT.Assign)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.LessOrEqualPair=o,__reflect(o.prototype,"dmt.LessOrEqualPair")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,r,n){for(var s=n,i=r.length;i>s;s++){var a=r[s];if(a.isParser&&this.handles.hasOwnProperty(a.name)){var o=this.handles[a.name];if(!o.exp)return e.Handle.ExpAB(r,s,a.type,this.handles[a.name]);var u=o.Exp(t,r,s);if(u)return u}}return-1},r}(e.Handle);e.Property=t,__reflect(t.prototype,"dmt.Property");var r=function(t){function r(r){return t.call(this,r,[new e.New(r)])||this}return __extends(r,t),r}(t);e.Handle19=r,__reflect(r.prototype,"dmt.Handle19");var n=function(t){function r(r){return t.call(this,r,[new s(r),new i(r),new e.Call(r)])||this}return __extends(r,t),r}(t);e.Handle19After=n,__reflect(n.prototype,"dmt.Handle19After");var s=function(t){function r(r){var n=t.call(this,e.KT.PeriodKeyVal,r)||this;return n.type=".......",n.enterType=e.KT.PeriodVal,n.isValue=!0,n.exp=[new e.Express(e.KT.PeriodVal,e.KT.PeriodVal,[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.Fail}])],n}return __extends(r,t),r.prototype.ValueA=function(t,r,n){var s=t.tks[0];if(s.type==e.KT.Super){var i=this.code.GetThis(n);return i}if(s.type==e.KT.This){var i=this.code.GetThis(n);return i}var a=this.code.V(s,t,r,n);return a},r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1];if(i=i.tks[i.tks.length-1],s.type==e.KT.Super){var a=i.val,o=this.code.GetSuper(t,n),u=o[a];if(u==e.Token.void0){var l=this.code.GetThis(n);u=l[a]}return u}if(s.type==e.KT.This){var a=i.val,l=this.code.GetThis(n),u=l[a];return u}var c=this.code.V(s,t,r,n),u=this.code.V(i,t,r,c,!1);return u},r.prototype.SetValue=function(t,r,n,s,i){var a=t.tks[0],o=t.tks[1];if(o=o.tks[o.tks.length-1],a.type==e.KT.Super||a.type==e.KT.This){var u=o.val,l=this.code.GetThis(i);l[u]=n}else{var u=o.val,c=this.code.V(a,r,s,i);c instanceof e.Token?this.code.SetParmsValue(u,n,s,c):c[u]=n}},r}(e.Handle);e.Period=s,__reflect(s.prototype,"dmt.Period");var i=function(t){function r(r){var n=t.call(this,e.KT.Bracket,r)||this;return n.type="...[...]",n.code=r,n.isValue=!0,n.exp=[new e.Express(e.KT.Bracket,e.KT.Bracket,[function(t,r){return t&&t.isValue?e.ECT.OK:e.ECT.Fail}])],n}return __extends(r,t),r.prototype.ValueA=function(t,r,n){var s=t.tks[0];if(s.type==e.KT.Super){var i=this.code.GetThis(n);return i}if(s.type==e.KT.This){var i=this.code.GetThis(n);return i}var a=this.code.V(s,t,r,n);return a},r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1],a=this.code.V(i,t,r,n),o=a[a.length-1];if(s.type==e.KT.Super){var u=this.code.GetSuper(t,n),l=u[o];if(l==e.Token.void0){var c=this.code.GetThis(n);l=c[o]}return l}if(s.type==e.KT.This){var c=this.code.GetThis(n),l=c[o];return l}var p=this.code.V(s,t,r,n),l=this.code.GetParmsValue(o,p,!1);return l},r.prototype.SetValue=function(t,r,n,s,i){var a=t.tks[0],o=t.tks[1],u=this.code.V(o,t,s,i),l=u[u.length-1];if(a.type==e.KT.Super||a.type==e.KT.This){var c=this.code.GetThis(i);c[l]=n}else{var p=this.code.V(a,r,s,i);p instanceof e.Token?this.code.SetParmsValue(l,n,s,p):p[l]=n}},r}(e.Handle);e.Bracket=i,__reflect(i.prototype,"dmt.Bracket")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(e,t,r){for(var n=r,s=t.length;s>n;n++){var i=t[n];if(i.isParser&&this.handles.hasOwnProperty(i.name)){var a=this.handles[i.name],o=a.Exp(e,t,n);if(o)return o}}return-1},r}(e.Handle);e.Statement=t,__reflect(t.prototype,"dmt.Statement");var r=function(t){function r(r){return t.call(this,r,[new e.Try(r),new e.Catch(r),new e.If(r),new e.ElseIf(r),new e.Else(r),new e.For(r),new e.While(r)])||this}return __extends(r,t),r}(t);e.HandleStatement=r,__reflect(r.prototype,"dmt.HandleStatement");var n=function(t){function r(r){return t.call(this,r,[new e.TryVal(r),new e.IfVal(r)])||this}return __extends(r,t),r}(t);e.HandleAfterStatement=n,__reflect(n.prototype,"dmt.HandleAfterStatement")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r,n){var s=t.call(this,e.KT.None,r)||this;return s.handles={},n.forEach(function(e){s.handles[e.enterName]=e}),s}return __extends(r,t),r.prototype.Exp=function(t,n,s){for(var i=function(s,i){var o=n[s];if(o.isParser&&a.handles.hasOwnProperty(o.name)){var u=a.handles[o.name];if(!u.exp){var l=r.expressList[o.type];l||(l=[new e.Express(o.type,function(t,r,n,s){return t.type==o.type?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],r.expressList[o.type]=l);var c=e.Express.Exps(n,s,l,o.type,u,function(e){e.val=e.tks[0].val});return{value:c}}var p=u.Exp(t,n,s);if(p)return{value:p}}},a=this,o=s,u=n.length;u>o;o++){var l=i(o,u);if("object"==typeof l)return l.value}return-1},r.prototype.AfterExpress=function(e,t){for(var r in this.handles)this.handles[r].AfterExpress(e,t)},r.expressList={},r}(e.Handle);e.VariateSingle=t,__reflect(t.prototype,"dmt.VariateSingle");var r=function(e){function t(t){return e.call(this,t,[new i(t),new a(t),new o(t),new f(t),new p(t),new u(t),new l(t),new c(t)])||this}return __extends(t,e),t}(t);e.HandleVariateSingle=r,__reflect(r.prototype,"dmt.HandleVariateSingle");var n=function(t){function r(r){return t.call(this,r,[new h(r),new d(r),new y(r),new e.AsVariate(r)])||this}return __extends(r,t),r}(t);e.HandleVariateLater=n,__reflect(n.prototype,"dmt.HandleVariateLater");var s=function(e){function t(t){return e.call(this,t,[new T(t),new _(t)])||this}return __extends(t,e),t}(t);e.HandleVariateEarly=s,__reflect(s.prototype,"dmt.HandleVariateEarly");var i=function(t){function r(r){var n=t.call(this,e.KT.Var,r)||this;return n.type="var ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){return r[e.val]=void 0,e.val},r}(e.Handle);e.VarVariate=i,__reflect(i.prototype,"dmt.VarVariate");var a=function(t){function r(r){var n=t.call(this,e.KT.Let,r)||this;return n.type="Let ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){return r[e.val]=void 0,e.val},r}(e.Handle);e.LetVariate=a,__reflect(a.prototype,"dmt.LetVariate");var o=function(t){function r(r){var n=t.call(this,e.KT.Const,r)||this;return n.type="const ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){return r[e.val]=void 0,e.val},r}(e.Handle);e.ConstVariate=o,__reflect(o.prototype,"dmt.ConstVariate");var u=function(t){function r(r){var n=t.call(this,e.KT.Class,r)||this;return n.type="class ...",n.exp=[new e.Express(e.KT.Class,function(t,r,n,s){return t.type==e.KT.Class?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Brace?e.ECT.OKSkip:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r.prototype.AfterExpress=function(t,n){for(var s=0,i=t.tks.length;i>s;s++){var a=n[s];a.type==e.KT.Class&&a.tks&&r.DelAngleBracket(a.tks,0)}},r.DelAngleBracket=function(t,n){if(!(0>n))for(var s=!1,i=0,a=0,o=n,u=t.length;u>o;o++){var l=t[o];if(s){if(l.type==e.KT.Less)i++;else if(l.type==e.KT.Greater&&(i--,0>=i)){var c=o;return t.splice(a,c-a+1),void r.DelAngleBracket(t,a+1)}}else l.type==e.KT.Less&&(a=o,s=!0,i=1)}},r}(e.Handle);e.ClassVariate=u,__reflect(u.prototype,"dmt.ClassVariate");var l=function(t){function r(r){var n=t.call(this,e.KT.Interface,r)||this;return n.type="interface ...",n.exp=[new e.Express(e.KT.Interface,function(t,r,n,s){return t.type==e.KT.Interface?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Brace?e.ECT.OKSkip:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r.prototype.AfterExpress=function(t,r){for(var n=0,s=t.tks.length;s>n;n++){var i=r[n];i.type==e.KT.Interface&&i.tks&&u.DelAngleBracket(i.tks,0)}},r}(e.Handle);e.InterfaceVariate=l,__reflect(l.prototype,"dmt.InterfaceVariate");var c=function(t){function r(r){var n=t.call(this,e.KT.Abstract,r)||this;return n.type="abstract ...",n.exp=[new e.Express(e.KT.Abstract,function(t,r,n,s){return t.type==e.KT.Abstract?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Brace?e.ECT.OKSkip:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r.prototype.AfterExpress=function(t,r){for(var n=0,s=t.tks.length;s>n;n++){var i=r[n];i.type==e.KT.Interface&&i.tks&&u.DelAngleBracket(i.tks,0)}},r}(e.Handle);e.AbstractVariate=c,__reflect(c.prototype,"dmt.AbstractVariate");var p=function(t){function r(r){var n=t.call(this,e.KT.PeriodVal,r)||this;return n.type="....",n.enterType=e.KT.Period,n.isValue=!0,n.exp=[new e.Express(e.KT.Period,function(t,r,n,s){return t.type==e.KT.Period?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){var s=e.Express.Exps(r,n,this.exp,e.KT.PeriodVal,this,function(e){e.isParser=!0});return s},r}(e.Handle);e.PeriodVariate=p,__reflect(p.prototype,"dmt.PeriodVariate");var f=function(t){function r(r){var n=t.call(this,e.KT.Function,r)||this;return n.type="function ...",n.isValue=!0,n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r}(e.Handle);e.FunctionVariate=f,__reflect(f.prototype,"dmt.FunctionVariate");var h=function(t){function r(r){var n=t.call(this,e.KT.Extends,r)||this;return n.type="extends ...",n}return __extends(r,t),r.prototype.V=function(e,t,r){return this.code.V(e.tks[0],e,t,r)},r}(e.Handle);e.ExtendsVariate=h,__reflect(h.prototype,"dmt.ExtendsVariate");var d=function(t){function r(r){var n=t.call(this,e.KT.Implements,r)||this;return n.type="implements ...",n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r}(e.Handle);e.ImplementsVariate=d,__reflect(d.prototype,"dmt.ImplementsVariate");var y=function(t){function r(r){var n=t.call(this,e.KT.Params,r)||this;return n.type="... ...",n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r}(e.Handle);e.ParamsVariate=y,__reflect(y.prototype,"dmt.ParamsVariate");var T=function(t){function r(r){var n=t.call(this,e.KT.CaseVal,r)||this;return n.type="case ...:",n.enterType=e.KT.Case,n.exp=[new e.Express(e.KT.Case,function(t,r,n,s){return t.type==e.KT.Case?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Colon?e.ECT.OKSkip:e.ECT.OKStay}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return e.ECT.OKSkip})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.CaseVariate=T,__reflect(T.prototype,"dmt.CaseVariate");var _=function(t){function r(r){var n=t.call(this,e.KT.DefaultVal,r)||this;return n.type="default ...",n.enterType=e.KT.Default,n.exp=[new e.Express(e.KT.Default,function(t,r,n,s){return t.type==e.KT.Default?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Colon?e.ECT.OKSkip:e.ECT.OKStay}),new e.Express(e.KT.AnyOne,function(t,r,n,s){return e.ECT.OKSkip})],n}return __extends(r,t),r.prototype.V=function(e,t,r){return e.tks[0].val},r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.DefaultVariate=_,__reflect(_.prototype,"dmt.DefaultVariate")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Abstract,r)||this;return n.type="abstract ...(...){}",n.isValue=!0,n.exp=[new e.Express(e.KT.Abstract,e.KT.Abstract),new e.Express(e.KT.Brace,e.KT.Brace)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return null},r}(e.Handle);e.Abstract=t,__reflect(t.prototype,"dmt.Abstract")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.As,r)||this;return n.type="as ...",n}return __extends(r,t),r.prototype.AfterExpress=function(t,r){for(var n=r.length-1;n>=0;n--){var s=r[n];s.type==e.KT.As&&r.splice(n,1)}},r}(e.Handle);e.AsVariate=t,__reflect(t.prototype,"dmt.AsVariate")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Async,r)||this;return n.type="async ...",n}return __extends(r,t),r.prototype.V=function(e,t,r){return null},r}(e.Handle);e.Async=t,__reflect(t.prototype,"dmt.Async");var r=function(t){function r(r){var n=t.call(this,e.KT.Await,r)||this;return n.type="await ...",n}return __extends(r,t),r.prototype.V=function(e,t,r){return null},r}(e.Handle);e.Await=r,__reflect(r.prototype,"dmt.Await")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Break,r)||this;return n.type="break",n.exp=[new e.Express(e.KT.Break,e.KT.Break)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return t.signal=this.handleType,e},r}(e.Handle);e.Break=t,__reflect(t.prototype,"dmt.Break")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Continue,r)||this;return n.type="continue",n.exp=[new e.Express(e.KT.Continue,e.KT.Continue)],n}return __extends(r,t),r.prototype.V=function(e,t,r){return t.signal=this.handleType,e},r}(e.Handle);e.Continue=t,__reflect(t.prototype,"dmt.Continue")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(t,r,n){void 0===t&&(t=null),void 0===r&&(r=!1),void 0===n&&(n=!0),this.handleKeys={},this.globalCode=[],this.debug=!1,this.autoBind=!1,t||(t=window),this.globalObject=t,this.debug=r,this.autoBind=n,this.handles=[new e.Pairs(this),new e.HandleVariateEarly(this),new e.Colon(this),new e.PairsExtra(this),new e.HandleVariateSingle(this),new e.Handle19(this),new e.Handle19After(this),new e.HandleVariateLater(this),new e.HandleStatement(this),new e.HandleAfterStatement(this),new e.Interface(this),new e.Abstract(this),new e.Class(this),new e.FunctionAnonymous(this),new e.FunctionSymbol(this),new e._Function(this),new e.AngleBracketPair(this),new e.Handle17(this),new e.Handle16(this),new e.Handle15(this),new e.Handle14(this),new e.Handle13(this),new e.Handle11(this),new e.Handle10(this),new e.Combine(this),new e.XOR(this),new e.InclusiveOr(this),new e.And(this),new e.Or(this),new e.QuestionMarkHandle(this),new e.Handle3(this),new e.Json(this),new e.Comma(this),new e.Decorate(this)]}return t.prototype.Run=function(e){this.Express(e);var t=this.Initialize(e.tks,e,"");this.globalCode.push(t);var r=window.wx;if(this.globalObject)for(var n in t.ps)r?"wx"!=n&&"canvas"!=n&&(this.globalObject[n]=t.ps[n]):this.globalObject[n]=t.ps[n];var s=this.CallPreConstructor(t,e,t.ps);if(this.globalObject)for(var n in t.ps)r?"wx"!=n&&"canvas"!=n&&(this.globalObject[n]=t.ps[n]):this.globalObject[n]=t.ps[n];return s},t.prototype.CallPreConstructor=function(t,r,n){for(var s,i=t.preConstructor.tks,a=0,o=i.length;o>a;a++){var u=i[a];if(s=this.V(u,t,r,n),r.signal==e.KT.Return)break}return s},t.prototype.Initialize=function(t,r,n){var s=new e.Token(e.KT.ClassInstance,e.Token.void0),i={};i=this.ComParams(i,i),s.ps=i,s.tks=t,s.preConstructor=new e.Token(e.KT.PreConstructor,e.Token.void0),s.preConstructor.tks=[],r=s,r.returnVal=e.Token.void0,r.signal=e.KT.None;for(var a=0,o=t.length;o>a;a++){var u=t[a];u.parent=s,u["static"]||u.type==e.KT.SemiColon||(u.type==e.KT.Function||u.type==e.KT.Class||u.type==e.KT.Interface||u.type==e.KT.Abstract||u.type==e.KT.Declare?this.V(u,s,r,i):s.preConstructor.tks.push(u))}return s},t.prototype.V=function(e,r,n,s,i){void 0===i&&(i=!0);var a=t.lastToken;t.lastToken=e;var o=null;return o=e.handle?e.handle.V(e,n,s):this.GetTokenValue(e,n,s,i),t.lastToken=a,o},t.prototype.VA=function(e,t,r){return e.handle?e.handle.ValueA(e,t,r):e.val},t.prototype.ValueParms=function(e,t,r){return e.handle?e.handle.ValueParms(e,t,r):this.GetTokenValue(e,t,r)},t.prototype.GetSuper=function(e,t){var r=this.GetTopToken(e),n=this.GetThis(t);return n.hasOwnProperty("__token__")||(n=n.__proto__),this.DoGetSuper(r,n)},t.prototype.DoGetSuper=function(e,t){var r=t.__token__;return e==r?t.__proto__:t.__proto__?(t=t.__proto__,this.DoGetSuper(e,t)):t},t.prototype.GetThis=function(e){return e.hasOwnProperty("__this__")?e.__this__:e},t.prototype.GetTopToken=function(t){return t.type==e.KT.ClassInstance?t:t.parent?this.GetTopToken(t.parent):t},t.prototype.GetTokenValue=function(t,r,n,s){switch(void 0===s&&(s=!0),t.type){case e.KT.ReservedWord:return this.GetParmsValue(t.val,n,s);case e.KT.This:return this.GetThis(n);case e.KT.Super:return this.GetSuper(t,n);default:return t instanceof e.Token?t.val:t}},t.prototype.Express=function(r){if(r&&!r.expressed&&(r.type==e.KT.Brace||r.type==e.KT.Par||r.type==e.KT.Bracket||r.type==e.KT.Class||r.type==e.KT.New)){r.expressed=!0;var n=r.tks;if(n&&0!=n.length){var s=new e.Token(e.KT.End,e.Token.void0);n.push(s);for(var i=0,a=this.handles.length;a>i;i++){var o=this.handles[i];t.lastToken=r,this.ExpressOneHandle(r,o)}for(var i=r.tks.length-1;i>=0;i--){var u=r.tks[i];u.parent=r,(u.type==e.KT.End||u.type==e.KT.Enter)&&r.tks.splice(i,1)}}}},t.prototype.ExpressOneHandle=function(e,t){for(var r=e.tks,n=0;;){if(n>=r.length||0>n)break;n=t.Exp(e,r,n)}t.AfterExpress(e,r)},t.prototype.GetParmsValue=function(t,r,n){void 0===n&&(n=!0),t instanceof e.Token&&(t=t.val);var s=this.GetParmsValueOne(r,t);if(s!==e.Token.void0)return s;if(n){if(r.hasOwnProperty("__this__")){r=r.__this__;var i=this.GetParmsValueOne(r,t);if(i!==e.Token.void0)return i}return this.globalObject[t]}return e.Token.void0},t.prototype.GetParmsValueOne=function(r,n){if(r==e.Token.void0)throw t.Info(),new Error("Uncaught TypeError: Cannot read property '"+n+"' of "+r);return r[n]},t.prototype.SetParmsValue=function(e,t,r,n){n[e]=t},t.prototype.ComParams=function(e,t){return t.hasOwnProperty("__this__")?(e.__this__=t.__this__,e.__proto__=t):e.__this__=t,e},t.prototype.InsertToken=function(t,r,n,s,i,a,o){void 0===o&&(o=null);var u=new e.Token(r,e.Token.void0);if(u.tks=n,u.handle=a,a&&(u.isValue=a.isValue),o)for(var l in o)u[l]=o[l];return n.forEach(function(e){e.parent=u}),t.splice(s,i-s+1,u),u},t.prototype.SplitToken=function(e,t){for(var r=[],n=[],s=0,i=e.length;i>s;s++){var a=e[s];a.type==t?(r.push(n),n=[]):n.push(a)}return r.push(n),r},t.Info=function(){var r=this,n=t.lastToken;console.log(n);var s=this.GetLine(n);s&&console.log("\nline: "+s.line+", column: "+s.column+", token: "+e.KT[s.type]+", val: "+s.val,s);var i=10,a=function(t){if(t){if(t.callerToken){t=t.callerToken;var n=r.GetLine(t);if(!n)return;if(console.log("\ntrace line: "+n.line+", column: "+n.column+", token: "+e.KT[t.type]+", val: "+(t.val?t.val:n.val),t),i--,0>=i)return}else t=t.parent;t&&a(t)}};a(n)},t.GetLine=function(e){if(e.line&&e.column)return e;if(e.tks)for(var r=0,n=e.tks.length;n>r;r++){var s=e.tks[r],i=t.GetLine(s);if(i)return i}},t}();e.CodeHandle=t,__reflect(t.prototype,"dmt.CodeHandle")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.IfVal,r)||this;return n.type="if(...){...}else if(...){...}else(...){...}",n.exp=[new e.Express(e.KT.IfVal,e.KT.IfVal),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.ElseIf||t.type==e.KT.Else?e.ECT.OKStay:e.ECT.OKSkip})],n}return __extends(r,t),r.prototype.V=function(t,r,n){for(var s=0,i=t.tks.length;i>s;s++){var a=t.tks[s];if(a.type==e.KT.IfVal||a.type==e.KT.If||a.type==e.KT.ElseIf){var o=a.tks[0];if(this.code.Express(o),this.code.V(o,t,r,n)){var u=a.tks[1];return this.code.Express(u),this.code.V(u,t,r,n)}}else if(a.type==e.KT.Else){var u=a.tks[0];return this.code.Express(u),this.code.V(u,t,r,n)
}}return null},r}(e.Handle);e.IfVal=t,__reflect(t.prototype,"dmt.IfVal");var r=function(t){function r(r){var n=t.call(this,e.KT.IfVal,r)||this;return n.type="if(...){...}",n.enterType=e.KT.If,n.exp=[new e.Express(e.KT.If,function(t,r,n,s){return t.type==e.KT.If?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,e.KT.Par),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.If=r,__reflect(r.prototype,"dmt.If");var n=function(t){function r(r){var n=t.call(this,e.KT.ElseIf,r)||this;return n.type="else if{...}",n.exp=[new e.Express(e.KT.ElseIf,function(t,r,n,s){return t.type==e.KT.ElseIf?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,e.KT.Par),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r}(e.Handle);e.ElseIf=n,__reflect(n.prototype,"dmt.ElseIf");var s=function(t){function r(r){var n=t.call(this,e.KT.Else,r)||this;return n.type="else{...}",n.exp=[new e.Express(e.KT.Else,function(t,r,n,s){return t.type==e.KT.Else?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r}(e.Handle);e.Else=s,__reflect(s.prototype,"dmt.Else")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.In,r)||this;return n.type="... in ...",n}return __extends(r,t),r}(e.Handle);e.In=t,__reflect(t.prototype,"dmt.In")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Instanceof,r)||this;return n.type="... instanceof ...",n.isValue=!0,n.vAbFunc=function(e,t){return e instanceof t},n}return __extends(r,t),r}(e.Handle);e.Instanceof=t,__reflect(t.prototype,"dmt.Instanceof")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.New,r)||this;return n.type="new ...(...)",n.isValue=!0,n.exp=[new e.Express(e.KT.New,function(t,r,n,s){return t.type==e.KT.New?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,function(t,r,n,s){return t.type==e.KT.Par||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(t,r,n){t.expressed||(e.ClassVariate.DelAngleBracket(t.tks,0),this.code.Express(t));var s=null,i=null,a=null;t.tks[0].type==e.KT.Call?(i=t.tks[0].tks[0],a=t.tks[0].tks[1],s=this.code.V(i,t,r,n)):(i=t.tks[0],a=null,s=this.code.V(i,t,r,n));var o=[];if(a){e.Call.HandleFunctionParms(a,this.code);for(var u=a.tks,l=0,c=u.length;c>l;l++){var p=this.code.ValueParms(u[l],r,n);o.push(p)}}for(var l=0,f=o.length;f>l;l++){var h=o[l];h instanceof Function&&(h.__bind__||"function"==typeof h&&(h.__token__&&h.__token__.type==e.KT.ClassInstance||(h=h.bind(n),Object.defineProperty(h,"__bind__",{value:!0,enumerable:!1,configurable:!1}),o[l]=h)))}if(!s)throw e.CodeHandle.Info(),new Error("Uncaught TypeError: "+i.val+" is not a constructor");s.__token__&&s.__token__.AddDebugLine(t);var d=o.length;if(0==d){var y=new s;return y}if(1==d){var y=new s(o[0]);return y}if(2==d){var y=new s(o[0],o[1]);return y}if(3==d){var y=new s(o[0],o[1],o[2]);return y}if(4==d){var y=new s(o[0],o[1],o[2],o[3]);return y}if(5==d){var y=new s(o[0],o[1],o[2],o[3],o[4]);return y}if(6==d){var y=new s(o[0],o[1],o[2],o[3],o[4],o[5]);return y}if(7==d){var y=new s(o[0],o[1],o[2],o[3],o[4],o[5],o[6]);return y}if(8==d){var y=new s(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);return y}var y=Object.create(s.prototype),p=s.apply(y,o);return p?p:y},r}(e.Handle);e.New=t,__reflect(t.prototype,"dmt.New")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function n(n){var s=t.call(this,e.KT.QuestionMark,n)||this;return s.questionMark=new r(n),s}return __extends(n,t),n.prototype.Exp=function(e,t,r){for(var n=0,s=!1;;){if(n>=t.length||0>n){if(!s)break;s=!1,n=0}var i=t.length;n=this.questionMark.Exp(e,t,n);var a=t.length;i!=a&&(s=!0)}return-1},n}(e.Handle);e.QuestionMarkHandle=t,__reflect(t.prototype,"dmt.QuestionMarkHandle");var r=function(t){function r(r){var n=t.call(this,e.KT.QuestionMark,r)||this;return n.type="...?...:...",n.isValue=!0,n.exp=[new e.Express(e.KT.QuestionMark,function(t,r,n,s){return t.type==e.KT.QuestionMark?e.ECT.OKSkip:e.ECT.Fail},[e.KT.AnyOne]),new e.Express(e.KT.AnyOne,e.KT.AnyOne),new e.Express(e.KT.Colon,function(t,r,n,s){return t.type==e.KT.Colon?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(e,t,r){var n=e.tks[0],s=e.tks[1],i=e.tks[2];return this.code.V(n,e,t,r)?this.code.V(s,e,t,r):this.code.V(i,e,t,r)},r}(e.Handle);e.QuestionMark=r,__reflect(r.prototype,"dmt.QuestionMark")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.Return,r)||this;return n.type="return ...",n.exp=[new e.Express(e.KT.Return,function(t,r,n,s){return t.type==e.KT.Return?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.AnyOne,e.KT.AnyOne)],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0];if(s.isValue){var i=this.code.V(s,t,r,n);r.returnVal=i}else r.returnVal=e.Token.void0;return r.signal=this.handleType,t},r}(e.Handle);e.Return=t,__reflect(t.prototype,"dmt.Return")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.TryVal,r)||this;return n.type="try{...}catch(...){...}",n.exp=[new e.Express(e.KT.TryVal,e.KT.TryVal),new e.Express(e.KT.AnyOne,function(t,r,n,s){return t.type==e.KT.Catch?e.ECT.OKStay:e.ECT.OKSkip})],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1];try{this.code.V(s.tks[0],t,r,n)}catch(a){if(e.CodeHandle.Info(),i){var o=i.tks[0],u=i.tks[1],l={};l[o.tks[0].val]=a;var c=this.code.ComParams(l,n);this.code.V(u,t,r,c)}}return null},r}(e.Handle);e.TryVal=t,__reflect(t.prototype,"dmt.TryVal");var r=function(t){function r(r){var n=t.call(this,e.KT.TryVal,r)||this;return n.type="try{...}",n.enterType=e.KT.Try,n.exp=[new e.Express(e.KT.Try,function(t,r,n,s){return t.type==e.KT.Try?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.Exp=function(t,r,n){return e.Express.Exps(r,n,this.exp,this.handleType,this,function(e){e.isParser=!0})},r}(e.Handle);e.Try=r,__reflect(r.prototype,"dmt.Try");var n=function(t){function r(r){var n=t.call(this,e.KT.Catch,r)||this;return n.type="catch(...){...}",n.exp=[new e.Express(e.KT.Catch,function(t,r,n,s){return t.type==e.KT.Catch?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,e.KT.Par),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r}(e.Handle);e.Catch=n,__reflect(n.prototype,"dmt.Catch")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(r){var n=t.call(this,e.KT.While,r)||this;return n.type="while(...){...}",n.exp=[new e.Express(e.KT.While,function(t,r,n,s){return t.type==e.KT.While?e.ECT.OKSkip:e.ECT.Fail}),new e.Express(e.KT.Par,e.KT.Par),new e.Express(e.KT.Brace,function(t,r,n,s){return t.type==e.KT.Brace||t.type==e.KT.SemiColon?e.ECT.OK:e.ECT.OKStay})],n}return __extends(r,t),r.prototype.V=function(t,r,n){var s=t.tks[0],i=t.tks[1];for(this.code.Express(s),this.code.Express(i);this.code.V(s,t,r,n);)if(this.code.V(i,t,r,n),r.signal!=e.KT.Continue){if(r.signal==e.KT.Break){r.signal=e.KT.None;break}if(r.signal==e.KT.Return)return null}else r.signal=e.KT.None;return null},r}(e.Handle);e.While=t,__reflect(t.prototype,"dmt.While")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function e(e){this.line=1,this.column=1,this.text=e,this.index=0,this.length=e.length}return e.prototype.Read=function(){var e=this.text.charAt(this.index);return this.index++,"\n"==e?(this.line++,this.column=1):this.column++,e},e.prototype.EOF=function(){return this.index>=this.length},e.prototype.Peek=function(e){void 0===e&&(e=0);var t=this.text.charAt(this.index+e);return t},e}();e.Stream=t,__reflect(t.prototype,"dmt.Stream")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function e(){}return e.IsLetter=function(t){return null==e.letters&&(e.letters={},e.CHARS.forEach(function(t){e.letters[t]=!0,e.letters[t.toUpperCase()]=!0})),e.letters.hasOwnProperty(t)},e.IsLetterExtra=function(t){return null==e.letterExtras&&(e.letterExtras={},e.CHARS.forEach(function(t){e.letterExtras[t]=!0,e.letterExtras[t.toUpperCase()]=!0}),e.EXTRA_CHARS.forEach(function(t){e.letterExtras[t]=!0})),e.letterExtras.hasOwnProperty(t)},e.IsNumber=function(t){return null==e.numbers&&(e.numbers={},e.NUMS.forEach(function(t){e.numbers[t]=!0})),e.numbers.hasOwnProperty(t)},e.IsHexNumber=function(t){return null==e.hexNumbers&&(e.hexNumbers={},e.HEX_NUMS.forEach(function(t){e.hexNumbers[t]=!0,e.hexNumbers[t.toUpperCase()]=!0})),e.hexNumbers.hasOwnProperty(t)},e.IsStringStart=function(t){return null==e.stringStarts&&(e.stringStarts={},e.stringStarts['"']=!0,e.stringStarts["'"]=!0,e.stringStarts["`"]=!0),e.stringStarts.hasOwnProperty(t)},e.IsStringSkip=function(t){return null==e.stringSkips&&(e.stringSkips={},e.stringSkips["\r"]=!0,e.stringSkips["\n"]=!0,e.stringSkips[" "]=!0,e.stringSkips[" "]=!0),e.stringSkips.hasOwnProperty(t)},e.IsEmpty=function(e){return null==e||0==e.length},e.IsEmptyArray=function(e){return null==e||0==e.length},e.IsLetterOrNumber=function(t){return null==e.letterOrNumbers&&(e.letterOrNumbers={},e.CHARS.forEach(function(t){e.letterOrNumbers[t]=!0,e.letterOrNumbers[t.toUpperCase()]=!0}),e.NUMS.forEach(function(t){e.letterOrNumbers[t]=!0})),e.letterOrNumbers.hasOwnProperty(t)},e.IsLetterOrNumberExtra=function(t){return null==e.letterOrNumbersExtra&&(e.letterOrNumbersExtra={},e.CHARS.forEach(function(t){e.letterOrNumbersExtra[t]=!0,e.letterOrNumbersExtra[t.toUpperCase()]=!0}),e.NUMS.forEach(function(t){e.letterOrNumbersExtra[t]=!0}),e.EXTRA_CHARS.forEach(function(t){e.letterOrNumbersExtra[t]=!0})),e.letterOrNumbersExtra.hasOwnProperty(t)},e.CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.NUMS=["0","1","2","3","4","5","6","7","8","9"],e.HEX_NUMS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e.EXTRA_CHARS=["_","$"],e.letters=null,e.letterExtras=null,e.numbers=null,e.hexNumbers=null,e.stringStarts=null,e.stringSkips=null,e.letterOrNumbers=null,e.letterOrNumbersExtra=null,e}();e.Utils=t,__reflect(t.prototype,"dmt.Utils")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(t){this.checkAttributes={g:1,i:1,m:1};var r=[];this.tk=new e.Token(e.KT.Brace,e.Token.void0),this.tk.tks=r;for(var n=JSON.parse(t),s=n[0],i=n[1],a=2,o=n.length;o>a;a++){var u=n[a];if(u>=1e3){var l=e.KT.ReservedWord,c=new e.Token(l,e.Token.void0);c.isParser=!0,c.val=i[u-1e3],c.isValue=!0,r.push(c)}else{var l=e.KT[s[u]],c=new e.Token(l,e.Token.void0);if(c.isParser=!0,r.push(c),l==e.KT.StringVal)a++,c.val=i[n[a]],c.isValue=!0;else if(l==e.KT.NumberVal)a++,c.val=i[n[a]],c.isValue=!0;else if(l==e.KT.RegExpVal){a++;var p=i[n[a]];a++;var f=n[a];this.checkAttributes[f]||(f=""),c.val=new RegExp(p,f),c.isValue=!0}else l==e.KT.True?(c.val=!0,c.isValue=!0):l==e.KT.False?(c.val=!1,c.isValue=!0):l==e.KT.Null?(c.val=null,c.isValue=!0):l==e.KT.Undefined?(c.val=void 0,c.isValue=!0):l==e.KT.NaN?(c.val=0/0,c.isValue=!0):(l==e.KT.Super||l==e.KT.This||l==e.KT.Null||l==e.KT.NaN||l==e.KT.Undefined)&&(c.isValue=!0)}}}return t}();e.CodeBin=t,__reflect(t.prototype,"dmt.CodeBin")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(t){var r=this;this.parsers=[new e.PlusParser,new e.MinusParser,new e.MultiplyParser,new e.ExponentiationParser,new e.DivideParser,new e.ModuloParser,new e.InclusiveOrParser,new e.CombineParser,new e.XORParser,new e.ShiParser,new e.ShrParser,new e.UnsignedShrParser,new e.LeftParParser,new e.RightParParser,new e.LeftBraceParser,new e.RightBraceParser,new e.LeftBracketParser,new e.RightBracketParser,new e.PeriodParser,new e.ParamsPreParser,new e.ParamsParser,new e.CommaParser,new e.ColonParser,new e.SemiColonParser,new e.QuestionMarkParser,new e.FunctionSymbolParser,new e.EnterParser,new e.SemiColonAndEnterParser,new e.EqualParser,new e.AllEqualParser,new e.NotEqualParser,new e.AllNotEqualParser,new e.GreaterParser,new e.LessParser,new e.AssignParser,new e.NotParser,new e.BitwiseNotParser,new e.IncrementParser,new e.DecrementParser,new e.AssignPlusParser,new e.AssignMinusParser,new e.AssignMultiplyParser,new e.AssignDivideParser,new e.AssignModuloParser,new e.AssignInclusiveOrParser,new e.OrParser,new e.AssignCombineParser,new e.AndParser,new e.AssignXORParser,new e.NumberParser,new e.StringParser,new e.ReservedWordPasrser,new e.AnnotationParser,new e.AnnotationStarParser],this.parsers.forEach(function(e){e.SetWaitForParser(r.parsers)}),this.noKeyParsers=[],this.oneKeyParsers=[],this.oneKeyParserKeys=[],this.parsers.forEach(function(e){0==e.key.length?r.noKeyParsers.push(e):1==e.key.length&&(r.oneKeyParsers.push(e),r.oneKeyParserKeys.push(e.key))}),this.code=t,this.stream=new e.Stream(t),this.Parse()}return t.prototype.TryGetParserByChar=function(t){var r=this.oneKeyParserKeys.indexOf(t);if(r>-1)return this.oneKeyParsers[r];if(e.Utils.IsStringSkip(t))return null;for(var n=0,s=this.noKeyParsers.length;s>n;n++){var i=this.noKeyParsers[n];if(i.WillAcceptStart(t))return i}return null},t.prototype.Parse=function(){var t,r=this,n=[];this.tk=new e.Token(e.KT.Brace,e.Token.void0),this.tk.tks=n;for(var s=0,i=0,a=function(e){null!=t?(t=t.TryAddValue(e,r.stream,n,s,i),null==t&&(e=r.stream.Peek(-1),a(e))):(t=r.TryGetParserByChar(e),t&&(t.Reset(),t.autoAddVal&&(t=t.TryAddValue(e,r.stream,n,s,i))))};!this.stream.EOF();)s=this.stream.line,i=this.stream.column,a(this.stream.Read());a("\n")},t.prototype.Release=function(){var t={},r=[],n=[t,r];return this.tk.tks.forEach(function(s){var i=s.type;if(t[i]=e.KT[i],i==e.KT.ReservedWord){var a=r.indexOf(s.val);a>=0?n.push(a+1e3):(r.push(s.val),n.push(r.length-1+1e3))}else if(i==e.KT.NumberVal||i==e.KT.StringVal){var a=r.indexOf(s.val);a>=0?(n.push(i),n.push(a)):(n.push(i),r.push(s.val),n.push(r.length-1))}else if(i==e.KT.True||i==e.KT.False)n.push(i);else if(i==e.KT.RegExpVal){var o=s.val.source,u=s.val.toString();u=u.charAt(u.length-1);var a=r.indexOf(o);a>=0?(n.push(i),n.push(a)):(n.push(i),r.push(o),n.push(r.length-1)),n.push(u)}else n.push(i),s.val&&console.warn("Not hande TokenType:",e.KT[i])}),JSON.stringify(n)},t}();e.CodeParser=t,__reflect(t.prototype,"dmt.CodeParser")}(dmt||(dmt={}));var dmt;!function(e){var t;!function(e){e[e.Fail=0]="Fail",e[e.OK=1]="OK",e[e.OKStay=2]="OKStay",e[e.OKSkip=3]="OKSkip",e[e.OKSkipStay=4]="OKSkipStay"}(t=e.ECT||(e.ECT={}));var r;!function(e){e[e.None=0]="None",e[e.ReservedWord=1]="ReservedWord",e[e.Var=2]="Var",e[e.Let=3]="Let",e[e.Const=4]="Const",e[e.Brace=5]="Brace",e[e.LeftBrace=6]="LeftBrace",e[e.RightBrace=7]="RightBrace",e[e.Par=8]="Par",e[e.LeftPar=9]="LeftPar",e[e.RightPar=10]="RightPar",e[e.Bracket=11]="Bracket",e[e.LeftBracket=12]="LeftBracket",e[e.RightBracket=13]="RightBracket",e[e.AngleBracket=14]="AngleBracket",e[e.Period=15]="Period",e[e.PeriodVal=16]="PeriodVal",e[e.PeriodKeyVal=17]="PeriodKeyVal",e[e.Comma=18]="Comma",e[e.Colon=19]="Colon",e[e.ColonVal=20]="ColonVal",e[e.SemiColon=21]="SemiColon",e[e.QuestionMark=22]="QuestionMark",e[e.Plus=23]="Plus",e[e.UnaryPlus=24]="UnaryPlus",e[e.Increment=25]="Increment",e[e.UnaryIncrement=26]="UnaryIncrement",e[e.AssignPlus=27]="AssignPlus",e[e.Minus=28]="Minus",e[e.UnaryMinus=29]="UnaryMinus",e[e.Decrement=30]="Decrement",e[e.UnaryDecrement=31]="UnaryDecrement",e[e.AssignMinus=32]="AssignMinus",e[e.Multiply=33]="Multiply",e[e.AssignMultiply=34]="AssignMultiply",e[e.Divide=35]="Divide",e[e.AssignDivide=36]="AssignDivide",e[e.Exponentiation=37]="Exponentiation",e[e.Modulo=38]="Modulo",e[e.AssignModulo=39]="AssignModulo",e[e.InclusiveOr=40]="InclusiveOr",e[e.AssignInclusiveOr=41]="AssignInclusiveOr",e[e.Or=42]="Or",e[e.Combine=43]="Combine",e[e.AssignCombine=44]="AssignCombine",e[e.And=45]="And",e[e.XOR=46]="XOR",e[e.AssignXOR=47]="AssignXOR",e[e.Shi=48]="Shi",e[e.AssignShi=49]="AssignShi",e[e.Shr=50]="Shr",e[e.UnsignedShr=51]="UnsignedShr",e[e.AssignShr=52]="AssignShr",e[e.AssignUnsignedShr=53]="AssignUnsignedShr",e[e.Not=54]="Not",e[e.BitwiseNot=55]="BitwiseNot",e[e.Assign=56]="Assign",e[e.Equal=57]="Equal",e[e.AllEqual=58]="AllEqual",e[e.Instanceof=59]="Instanceof",e[e.Typeof=60]="Typeof",e[e.NotEqual=61]="NotEqual",e[e.AllNotEqual=62]="AllNotEqual",e[e.Greater=63]="Greater",e[e.GreaterOrEqual=64]="GreaterOrEqual",e[e.Less=65]="Less",e[e.LessOrEqual=66]="LessOrEqual",e[e.ParamsPre=67]="ParamsPre",e[e.Params=68]="Params",e[e.If=69]="If",e[e.IfVal=70]="IfVal",e[e.Else=71]="Else",e[e.ElseIf=72]="ElseIf",e[e.For=73]="For",e[e.In=74]="In",e[e.Switch=75]="Switch",e[e.Case=76]="Case",e[e.CaseVal=77]="CaseVal",e[e.Default=78]="Default",e[e.DefaultVal=79]="DefaultVal",e[e.Break=80]="Break",e[e.Continue=81]="Continue",e[e.Return=82]="Return",e[e.While=83]="While",e[e.Function=84]="Function",e[e.Try=85]="Try",e[e.TryVal=86]="TryVal",e[e.Catch=87]="Catch",e[e.Throw=88]="Throw",e[e.Boolean=89]="Boolean",e[e.BooleanVal=90]="BooleanVal",e[e.True=91]="True",e[e.False=92]="False",e[e.Number=93]="Number",e[e.NumberVal=94]="NumberVal",e[e.String=95]="String",e[e.StringVal=96]="StringVal",e[e.Null=97]="Null",e[e.Export=98]="Export",e[e.Abstract=99]="Abstract",e[e.NameSpace=100]="NameSpace",e[e.Module=101]="Module",e[e.Class=102]="Class",e[e.ClassInstance=103]="ClassInstance",e[e.PreConstructor=104]="PreConstructor",e[e.Interface=105]="Interface",e[e.InterfaceInstance=106]="InterfaceInstance",e[e.Public=107]="Public",e[e.Protected=108]="Protected",e[e.Private=109]="Private",e[e.Extends=110]="Extends",e[e.Static=111]="Static",e[e.New=112]="New",e[e.Void=113]="Void",e[e.Any=114]="Any",e[e.Never=115]="Never",e[e.NaN=116]="NaN",e[e.Undefined=117]="Undefined",e[e.Async=118]="Async",e[e.Await=119]="Await",e[e.Import=120]="Import",e[e.Get=121]="Get",e[e.Set=122]="Set",e[e.As=123]="As",e[e.Delete=124]="Delete",e[e.Implements=125]="Implements",e[e.Annotation=126]="Annotation",e[e.AnnotationStar=127]="AnnotationStar",e[e.Call=128]="Call",e[e.Enter=129]="Enter",e[e.FunctionSymbol=130]="FunctionSymbol",e[e.FunctionAnonymous=131]="FunctionAnonymous",e[e.Customize=132]="Customize",e[e.This=133]="This",e[e.Super=134]="Super",e[e.End=135]="End",e[e.AnyOne=136]="AnyOne",e[e.Yield=137]="Yield",e[e.YieldStar=138]="YieldStar",e[e.Json=139]="Json",e[e.JsonVal=140]="JsonVal",e[e.Declare=141]="Declare",e[e.RegExpVal=142]="RegExpVal"}(r=e.KT||(e.KT={}))}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(r,n){this.isParser=!1,this.expressed=!1,this.isValue=!1,this.signal=e.KT.None,r!==t.void0&&(this.type=r),n!==t.void0&&(this.val=n)}return Object.defineProperty(t.prototype,"name",{get:function(){return e.KT[this.type]},enumerable:!0,configurable:!0}),t.prototype.AddDebugLine=function(e){this.callerToken=e},t.void0=void 0,t}();e.Token=t,__reflect(t.prototype,"dmt.Token")}(dmt||(dmt={}));var dmt;!function(e){var t=function(){function t(){}return t.Run=function(t,r){var n=new e.CodeParser(t),s=new e.CodeHandle(r);return s.Run(n.tk)},t}();e.TsCode=t,__reflect(t.prototype,"dmt.TsCode")}(dmt||(dmt={})),window.dmt=dmt;var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.Annotation,"//")||this;return r.autoAddVal=!0,r.Reset(),r}return __extends(r,t),r.prototype.TryAddValue=function(e,t,r,n,s){return"\r"==e||"\n"==e?null:this},r}(e.Parser);e.AnnotationParser=t,__reflect(t.prototype,"dmt.AnnotationParser");var r=function(t){function r(){var r=t.call(this,e.KT.AnnotationStar,"/*")||this;return r.autoAddVal=!0,r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.noteChar=!1,this.end=!1},r.prototype.TryAddValue=function(e,t,r,n,s){return this.end?null:"*"==e?(this.noteChar=!0,this):this.noteChar&&"/"==e?(this.end=!0,this):(this.noteChar=!1,this)},r}(e.Parser);e.AnnotationStarParser=r,__reflect(r.prototype,"dmt.AnnotationStarParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){return t.call(this,e.KT.Plus,"+")||this}return __extends(r,t),r}(e.Parser);e.PlusParser=t,__reflect(t.prototype,"dmt.PlusParser");var r=function(t){function r(){return t.call(this,e.KT.Minus,"-")||this}return __extends(r,t),r}(e.Parser);e.MinusParser=r,__reflect(r.prototype,"dmt.MinusParser");var n=function(t){function r(){return t.call(this,e.KT.Multiply,"*")||this}return __extends(r,t),r}(e.Parser);e.MultiplyParser=n,__reflect(n.prototype,"dmt.MultiplyParser");var s=function(t){function r(){return t.call(this,e.KT.Exponentiation,"**")||this}return __extends(r,t),r}(e.Parser);e.ExponentiationParser=s,__reflect(s.prototype,"dmt.ExponentiationParser");var i=function(t){function r(){return t.call(this,e.KT.Modulo,"%")||this}return __extends(r,t),r}(e.Parser);e.ModuloParser=i,__reflect(i.prototype,"dmt.ModuloParser");var a=function(t){function r(){return t.call(this,e.KT.InclusiveOr,"|")||this}return __extends(r,t),r}(e.Parser);e.InclusiveOrParser=a,__reflect(a.prototype,"dmt.InclusiveOrParser");var o=function(t){function r(){return t.call(this,e.KT.Combine,"&")||this}return __extends(r,t),r}(e.Parser);e.CombineParser=o,__reflect(o.prototype,"dmt.CombineParser");var u=function(t){function r(){return t.call(this,e.KT.XOR,"^")||this}return __extends(r,t),r}(e.Parser);e.XORParser=u,__reflect(u.prototype,"dmt.XORParser");var l=function(t){function r(){return t.call(this,e.KT.Shi,"<<")||this}return __extends(r,t),r}(e.Parser);e.ShiParser=l,__reflect(l.prototype,"dmt.ShiParser");var c=function(t){function r(){return t.call(this,e.KT.Shr,">>")||this}return __extends(r,t),r}(e.Parser);e.ShrParser=c,__reflect(c.prototype,"dmt.ShrParser");var p=function(t){function r(){return t.call(this,e.KT.UnsignedShr,">>>")||this}return __extends(r,t),r}(e.Parser);e.UnsignedShrParser=p,__reflect(p.prototype,"dmt.UnsignedShrParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){return t.call(this,e.KT.Assign,"=")||this}return __extends(r,t),r}(e.Parser);e.AssignParser=t,__reflect(t.prototype,"dmt.AssignParser");var r=function(t){function r(){return t.call(this,e.KT.Not,"!")||this}return __extends(r,t),r}(e.Parser);e.NotParser=r,__reflect(r.prototype,"dmt.NotParser");var n=function(t){function r(){return t.call(this,e.KT.BitwiseNot,"~")||this}return __extends(r,t),r}(e.Parser);e.BitwiseNotParser=n,__reflect(n.prototype,"dmt.BitwiseNotParser");var s=function(t){function r(){return t.call(this,e.KT.Increment,"++")||this}return __extends(r,t),r}(e.Parser);e.IncrementParser=s,__reflect(s.prototype,"dmt.IncrementParser");var i=function(t){function r(){return t.call(this,e.KT.Decrement,"--")||this}return __extends(r,t),r}(e.Parser);e.DecrementParser=i,__reflect(i.prototype,"dmt.DecrementParser");var a=function(t){function r(){return t.call(this,e.KT.AssignPlus,"+=")||this}return __extends(r,t),r}(e.Parser);e.AssignPlusParser=a,__reflect(a.prototype,"dmt.AssignPlusParser");var o=function(t){function r(){return t.call(this,e.KT.AssignMinus,"-=")||this}return __extends(r,t),r}(e.Parser);e.AssignMinusParser=o,__reflect(o.prototype,"dmt.AssignMinusParser");var u=function(t){function r(){return t.call(this,e.KT.AssignMultiply,"*=")||this}return __extends(r,t),r}(e.Parser);e.AssignMultiplyParser=u,__reflect(u.prototype,"dmt.AssignMultiplyParser");var l=function(t){function r(){return t.call(this,e.KT.AssignDivide,"/=")||this}return __extends(r,t),r}(e.Parser);e.AssignDivideParser=l,__reflect(l.prototype,"dmt.AssignDivideParser");var c=function(t){function r(){return t.call(this,e.KT.AssignModulo,"%=")||this}return __extends(r,t),r}(e.Parser);e.AssignModuloParser=c,__reflect(c.prototype,"dmt.AssignModuloParser");var p=function(t){function r(){return t.call(this,e.KT.AssignInclusiveOr,"|=")||this}return __extends(r,t),r}(e.Parser);e.AssignInclusiveOrParser=p,__reflect(p.prototype,"dmt.AssignInclusiveOrParser");var f=function(t){function r(){return t.call(this,e.KT.Or,"||")||this}return __extends(r,t),r}(e.Parser);e.OrParser=f,__reflect(f.prototype,"dmt.OrParser");var h=function(t){function r(){return t.call(this,e.KT.AssignCombine,"&=")||this}return __extends(r,t),r}(e.Parser);e.AssignCombineParser=h,__reflect(h.prototype,"dmt.AssignCombineParser");var d=function(t){function r(){return t.call(this,e.KT.And,"&&")||this}return __extends(r,t),r}(e.Parser);e.AndParser=d,__reflect(d.prototype,"dmt.AndParser");var y=function(t){function r(){return t.call(this,e.KT.AssignXOR,"^=")||this}return __extends(r,t),r}(e.Parser);e.AssignXORParser=y,__reflect(y.prototype,"dmt.AssignXORParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.None,"")||this;return r.autoAddVal=!0,r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.val=e.Token.void0,this.checkVal=e.Token.void0},r.prototype.InCheck=function(){return this.checkVal!==e.Token.void0},r.prototype.ResetCheck=function(){this.checkVal=e.Token.void0},r.prototype.TryAddValue=function(t,r,n,s,i){if(this.checkVal===e.Token.void0)return"\\"==t?(this.checkVal=t,this):(this.val=t,null);if(1!=this.checkVal.length)return 5==this.checkVal.length?(this.val=window.unescape("%"+this.checkVal.substring(1,this.checkVal.length)+t),null):(this.checkVal+=t,this);switch(t){case"n":this.val="\n";break;case"\\":this.val="\\";break;case"'":this.val="'";break;case'"':this.val='"';break;case"r":this.val="\r";break;case"b":this.val="\b";break;case"f":this.val="\f";break;case"t":this.val="	";break;case"&":this.val="&";break;case"u":return this.checkVal+=t,this;default:this.val=t}return null},r}(e.Parser);e.CharParser=t,__reflect(t.prototype,"dmt.CharParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){return t.call(this,e.KT.Equal,"==")||this}return __extends(r,t),r}(e.Parser);e.EqualParser=t,__reflect(t.prototype,"dmt.EqualParser");var r=function(t){function r(){return t.call(this,e.KT.AllEqual,"===")||this}return __extends(r,t),r}(e.Parser);e.AllEqualParser=r,__reflect(r.prototype,"dmt.AllEqualParser");var n=function(t){function r(){return t.call(this,e.KT.NotEqual,"!=")||this}return __extends(r,t),r}(e.Parser);e.NotEqualParser=n,__reflect(n.prototype,"dmt.NotEqualParser");var s=function(t){function r(){return t.call(this,e.KT.AllNotEqual,"!==")||this}return __extends(r,t),r}(e.Parser);e.AllNotEqualParser=s,__reflect(s.prototype,"dmt.AllNotEqualParser");var i=function(t){function r(){return t.call(this,e.KT.Greater,">")||this}return __extends(r,t),r}(e.Parser);e.GreaterParser=i,__reflect(i.prototype,"dmt.GreaterParser");var a=function(t){function r(){return t.call(this,e.KT.Less,"<")||this}return __extends(r,t),r}(e.Parser);e.LessParser=a,__reflect(a.prototype,"dmt.LessParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.Divide,"/")||this;return r.checkAttributes={g:1,i:1,m:1},r.inEscape=!1,r.isRegExp=!1,r.autoAddVal=!0,r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.word=[],this.startChar=e.Token.void0,this.end=!1,this.inEscape=!1,this.isRegExp=!1},r.prototype.TryAddValue=function(r,n,s,i,a){if(this.end){this.val=this.word.join("");var o=new e.Token(e.KT.RegExpVal,e.Token.void0);o.isParser=!0,o.line=i,o.column=a,o.isValue=!0,s.push(o);var u=e.Token.void0;return this.checkAttributes[r]&&(n.Read(),u=r),o.val=new RegExp(this.val,u),null}if(this.startChar===e.Token.void0){var l=s[s.length-1],c=n.Peek(0);return l&&l.type!=e.KT.LeftPar&&l.type!=e.KT.Assign&&l.type!=e.KT.Comma||"/"==c||"*"==c?(this.isRegExp=!1,this.startChar=r,this):(this.isRegExp=!0,this.startChar=r,this)}return this.isRegExp?(r!=this.startChar||this.inEscape?(this.inEscape?this.inEscape=!1:"\\"==r&&(this.inEscape=!0),this.word.push(r)):this.end=!0,this):t.prototype.TryAddValue.call(this,r,n,s,i,a)},r}(e.Parser);e.DivideParser=t,__reflect(t.prototype,"dmt.DivideParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.NumberVal,"")||this;return r.autoAddVal=!0,r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.word=[],this.val=e.Token.void0,this.hexMode=!1},r.prototype.TryAddValue=function(t,r,n,s,i){if(this.hexMode){if(e.Utils.IsHexNumber(t))return this.word.push(t),this;this.val=parseInt(this.word.join(""),16);var a=new e.Token(this.type,this.val);return a.isParser=!0,a.line=s,a.column=i,a.isValue=!0,n.push(a),null}if(e.Utils.IsNumber(t)||"."==t)return this.word.push(t),this;if(1==this.word.length&&"0"==this.word[0]&&"x"==t)return this.hexMode=!0,this.word.length=0,this;this.word.indexOf(".")>-1?this.val=parseFloat(this.word.join("")):this.val=parseInt(this.word.join(""));var a=new e.Token(this.type,this.val);return a.isParser=!0,a.line=s,a.column=i,a.isValue=!0,n.push(a),null},r.prototype.WillAcceptStart=function(t){return e.Utils.IsNumber(t)?!0:!1},r}(e.Parser);e.NumberParser=t,__reflect(t.prototype,"dmt.NumberParser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.ReservedWord,"")||this;r.autoAddVal=!0;var n=[e.KT.Var,e.KT.Let,e.KT.Const,e.KT.Instanceof,e.KT.Typeof,e.KT.If,e.KT.Else,e.KT.For,e.KT.In,e.KT.Switch,e.KT.Case,e.KT.Default,e.KT.Break,e.KT.Continue,e.KT.Return,e.KT.While,e.KT.Function,e.KT.Try,e.KT.Catch,e.KT.Throw,e.KT.Boolean,e.KT.True,e.KT.False,e.KT.String,e.KT.Null,e.KT.Export,e.KT.Abstract,e.KT.NameSpace,e.KT.Module,e.KT.Class,e.KT.Interface,e.KT.Public,e.KT.Protected,e.KT.Private,e.KT.Extends,e.KT.Static,e.KT.New,e.KT.Void,e.KT.Any,e.KT.Never,e.KT.NaN,e.KT.Undefined,e.KT.Async,e.KT.Await,e.KT.Import,e.KT.Get,e.KT.Set,e.KT.As,e.KT.Delete,e.KT.Implements,e.KT.This,e.KT.Super,e.KT.Yield,e.KT.Declare];return r.keywords={},n.forEach(function(t){var n=e.KT[t],s=n[0].toLowerCase(),i=n.substring(1,n.length);r.keywords[s+i]=t}),r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.word=[],this.val=e.Token.void0},r.prototype.TryAddValue=function(t,r,n,s,i){if(e.Utils.IsLetterOrNumberExtra(t))return 0==this.word.length&&(this.beginLine=s,this.beginColumn=i),this.word.push(t),this;this.val=this.word.join("");var a=this.type,o=this.val;this.keywords.hasOwnProperty(o)&&(a=this.keywords[o]);var u=new e.Token(a,e.Token.void0);return u.type==e.KT.ReservedWord?u.val=this.val:u.type==e.KT.True?u.val=!0:u.type==e.KT.False?u.val=!1:u.type==e.KT.Null?u.val=null:u.type==e.KT.NaN?u.val=0/0:u.type==e.KT.Undefined&&(u.val=void 0),u.isParser=!0,u.line=this.beginLine,u.column=this.beginColumn,a==e.KT.ReservedWord||a==e.KT.Super||a==e.KT.This||a==e.KT.True||a==e.KT.False||a==e.KT.Null||a==e.KT.NaN||a==e.KT.Undefined?u.isValue=!0:u.isValue=!1,n.push(u),null},r.prototype.WillAcceptStart=function(t){return e.Utils.IsLetterOrNumberExtra(t)?!0:!1},r}(e.Parser);e.ReservedWordPasrser=t,__reflect(t.prototype,"dmt.ReservedWordPasrser")}(dmt||(dmt={}));var dmt;!function(e){var t=function(t){function r(){var r=t.call(this,e.KT.StringVal,"")||this;return r.autoAddVal=!0,r.charParser=new e.CharParser,r.Reset(),r}return __extends(r,t),r.prototype.Reset=function(){this.word=[],this.startChar=e.Token.void0,this.end=!1,this.charParser.Reset()},r.prototype.TryAddValue=function(t,r,n,s,i){if(this.end){this.val=this.word.join("");var a=new e.Token(this.type,this.val);return a.isParser=!0,a.line=s,a.column=i,a.isValue=!0,n.push(a),null}var o=this.charParser.TryAddValue(t,r,n,s,i);return null!=o?this:(t=this.charParser.val,this.startChar===e.Token.void0?(this.startChar=t,this):(this.charParser.InCheck()?(this.word.push(t),this.charParser.ResetCheck()):t==this.startChar?this.end=!0:(this.word.push(t),this.charParser.ResetCheck()),this))},r.prototype.WillAcceptStart=function(t){return e.Utils.IsStringStart(t)?!0:!1},r}(e.Parser);e.StringParser=t,__reflect(t.prototype,"dmt.StringParser")}(dmt||(dmt={}));var dmt;
!function(e){var t=function(t){function r(){return t.call(this,e.KT.LeftPar,"(")||this}return __extends(r,t),r}(e.Parser);e.LeftParParser=t,__reflect(t.prototype,"dmt.LeftParParser");var r=function(t){function r(){return t.call(this,e.KT.RightPar,")")||this}return __extends(r,t),r}(e.Parser);e.RightParParser=r,__reflect(r.prototype,"dmt.RightParParser");var n=function(t){function r(){return t.call(this,e.KT.LeftBrace,"{")||this}return __extends(r,t),r}(e.Parser);e.LeftBraceParser=n,__reflect(n.prototype,"dmt.LeftBraceParser");var s=function(t){function r(){return t.call(this,e.KT.RightBrace,"}")||this}return __extends(r,t),r}(e.Parser);e.RightBraceParser=s,__reflect(s.prototype,"dmt.RightBraceParser");var i=function(t){function r(){return t.call(this,e.KT.LeftBracket,"[")||this}return __extends(r,t),r}(e.Parser);e.LeftBracketParser=i,__reflect(i.prototype,"dmt.LeftBracketParser");var a=function(t){function r(){return t.call(this,e.KT.RightBracket,"]")||this}return __extends(r,t),r}(e.Parser);e.RightBracketParser=a,__reflect(a.prototype,"dmt.RightBracketParser");var o=function(t){function r(){return t.call(this,e.KT.Period,".")||this}return __extends(r,t),r}(e.Parser);e.PeriodParser=o,__reflect(o.prototype,"dmt.PeriodParser");var u=function(t){function r(){return t.call(this,e.KT.ParamsPre,"..")||this}return __extends(r,t),r}(e.Parser);e.ParamsPreParser=u,__reflect(u.prototype,"dmt.ParamsPreParser");var l=function(t){function r(){return t.call(this,e.KT.Params,"...")||this}return __extends(r,t),r}(e.Parser);e.ParamsParser=l,__reflect(l.prototype,"dmt.ParamsParser");var c=function(t){function r(){return t.call(this,e.KT.Comma,",")||this}return __extends(r,t),r}(e.Parser);e.CommaParser=c,__reflect(c.prototype,"dmt.CommaParser");var p=function(t){function r(){return t.call(this,e.KT.Colon,":")||this}return __extends(r,t),r}(e.Parser);e.ColonParser=p,__reflect(p.prototype,"dmt.ColonParser");var f=function(t){function r(){return t.call(this,e.KT.SemiColon,";")||this}return __extends(r,t),r}(e.Parser);e.SemiColonParser=f,__reflect(f.prototype,"dmt.SemiColonParser");var h=function(t){function r(){return t.call(this,e.KT.QuestionMark,"?")||this}return __extends(r,t),r}(e.Parser);e.QuestionMarkParser=h,__reflect(h.prototype,"dmt.QuestionMarkParser");var d=function(t){function r(){return t.call(this,e.KT.Enter,"\n")||this}return __extends(r,t),r}(e.Parser);e.EnterParser=d,__reflect(d.prototype,"dmt.EnterParser");var y=function(t){function r(){return t.call(this,e.KT.SemiColon,";\n")||this}return __extends(r,t),r}(e.Parser);e.SemiColonAndEnterParser=y,__reflect(y.prototype,"dmt.SemiColonAndEnterParser");var T=function(t){function r(){return t.call(this,e.KT.FunctionSymbol,"=>")||this}return __extends(r,t),r}(e.Parser);e.FunctionSymbolParser=T,__reflect(T.prototype,"dmt.FunctionSymbolParser")}(dmt||(dmt={}));